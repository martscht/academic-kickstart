---
title: Einführung in R-Markdown und Subgruppen 
date: '2022-11-14'
slug: lifos-r-markdown
categories:
  - "lifos"
tags: []
subtitle: '' 
summary: ''
authors: [schloter]   
featured: no
header:
  image: "/header/gitlab_markdown2.jpg" 
  caption: "[Courtesy of Pixabay](https://pixabay.com/images/id-108881/)"
projects: []
publishDate: '2022-11-24'  
---

# Einführung  
  
Nachdem wir uns im letzten Tutorial bereits mit der Umgebung auf <span style="color: darkred;">**GitLab**</span> vertraut gemacht haben, geht es nun um etwas spezfischere Anwendungen. Dabei soll es um die Nutzung von Markdown und die Arbeit mit Subgruppen gehen. 


## Markdown 

Markdown ist eine Auszeichungssprache, die aufgrund ihrer einfachen Syntax recht einfach zu handhaben ist. Ein großer Vorteil dabei ist, dass man eine einfache Textdatei schreibt, die man dann in ganz verschiedene Dokumententypen (bspw. HTML, PDF oder auch MS Word) konvertieren kann. An Markdown Dateien können also Personen auf verschiedenen Betriebssystemen sehr einfach zusammenarbeiten. Im Rahmen von **LIFOS** ist Markdown wichtig, da das READme in eurem Projekt damit geschrieben ist/wird. Da das READme euer Projekt vorstellt, ist es wichtig, dass ihr es so ansprechend wie möglich gestalten könnt. Da ihr als Psycholog:innen bestimmt mit R vetraut seid, könnte euch auch R-Markdown interessieren, um z.B. R-Code zu implementieren. Das kleine Zusatztutorial dazu, findet ihr [hier](#appendix-a). Im unteren Abschnitt findet ihr auch noch eine [Übung](#übung), bei der ihr selbst ein Markdown Dokument nachbauen sollt. 

<!-- muss noch an Template-Repo angepasst werden --> 

##### Kursiv- und Fettgedrucktes

Falls ihr besondere Wörter **hervorheben** wollt, ist es wichtig Kursiv- und Fettgedrucktes zu beherrschen. Das Tutorial wird so aufgebaut sein, dass zuerst immer dasteht, wie das ganze in Markdown aussieht und darunter direkt der Code dafür kommt.

_kursiv_: 
```{r eval = F}
_kursiv_    
```

**fett**: 
```{r eval = F}
**fett**    
```

_Beides geht natürlich auch_ **über mehrere Wörter**: 
```{r eval = F}
_Beides geht natürlich auch_ **über mehrere Wörter**      
```

**_und sogar gleichzeitig!_**: 
```{r eval = F}
**_und sogar gleichzeitig!_**     
```

##### HEADER

Header sind ganz wichtig für die Formatierung eurer Dokumente, da man durch sie verschiedene Abstufungen in der Datei festlegen kann und Aufmerksamkeit auf einen Abschnitt lenken kann. Es gibt sechs verschiedene Header, die sich in ihrer Größe unterscheiden. 

# Das ist ein Typ 1 Header
```{r eval = F}
# Das ist ein Typ 1 Header     
```

## Typ 2
### Typ 3
#### Typ 4
##### Typ 5
###### Typ 6

```{r eval = F}
## Typ 2
### Typ 3
#### Typ 4
##### Typ 5
###### Typ 6   
```

Wie ihr sehen könnt, unterscheiden sich die Header nur an ihrer Anzahl von #-Tags. Hier ist es wichtig auf das Leerzeichen zwischen #-Tags und eurer Überschrift zu achten, da diese sonst nicht richtig formatiert wird. 

#### Links

In diesem Abschnitt werdet ihr lernen, wie man Links zu einer anderen Website erstellt. 

[Besucht den LIFOS-Server!](https://lifos.uni-frankfurt.de/users/sign_in)
```{r eval = F}
[Besucht den LIFOS-Server!](https://lifos.uni-frankfurt.de/users/sign_in)       
```

In den eckigen Klammern könnt ihr einen kurzen Text verfassen, worauf dieser Link überhaupt führt. Danach kommen die runden Klammern mit dem tatsächlichen Link der Website. 

Das alles kann natürlich auch eingebunden werden in den Text, wenn ihr eine Website wie [LIFOS](https://lifos.uni-frankfurt.de/users/sign_in) erwähnt.

```{r eval = F}
...eine Website wie [LIFOS](https://lifos.uni-frankfurt.de/users/sign_in) erwähnt.       
```

Außerdem interessant: Man kann auch Referenz Links zu anderen Teilen eurer Datei erstellen. 
Ihr könnt so zum Beispiel auf einen bestimmten Abschnitt verweisen, wie zum Beispiel eure [erste Überschrift](#einführung). 


```{r eval = F}
...zum Beispiel eure [erste Überschrift](#einführung).       
```

In den eckigen Klammern steht wieder auf was genau ihr verweist und in den runden Klammern der Link zu eurer Überschrift. Diese ist dabei immer klein geschrieben und am Anfang steht ein #-tag. 

Falls eure Überschrift mehrere Wörter besitzt wie zum Beispiel [Kursiv- und Fettgedrucktes](#kursiv--und-fettgedrucktes), dann müsst ihr sie folgendermaßen verlinken: 

```{r eval = F}
...wie zum Beispiel [Kursiv- und Fettgedrucktes](#kursiv--und-fettgedrucktes)..       
```

Die Wörter sind wieder alle klein geschrieben und zwischen den Wörter steht immer ein "-", das das Leerzeichen ersetzt.

<!-- Man kann bestimmt auch eigene Anker setzen oder? -->

#### Bilder

Auch Bilder lassen sich mit Markdown einfügen. Das funktioniert ähnlich wie die Links. 

<!-- könnten wir auch einen repo-internen Link erzeugen, wenn sie ein Bild in ihrem Repo ablegen? -->

Hier seht ihr ein Bild von süßen Tieren ![](https://cdn.pixabay.com/photo/2018/10/01/09/21/pets-3715733_960_720.jpg). 

```{r eval = F}
![](https://cdn.pixabay.com/photo/2018/10/01/09/21/pets-3715733_960_720.jpg)       
```

Der Unterschied zum Link ist, dass hier noch ein "!" vor den ganzen Ausdruck gesetzt wird, danach kommt der Bildlink. Achtet hier darauf nur Copyright-freie Bilder zu nehmen.

#### Listen

Hier gibt es zwei verschiedene Typen: geordnete und ungeordnete Listen. 

* Das
* hier 
* ist
* ungeordnet.

```{r eval = F}
* Das
* hier 
* ist
* ungeordnet.       
```

1. Das
2. hier 
3. ist
4. geordnet.

```{r eval = F}
1. Das
2. hier 
3. ist
4. geordnet.       
```

Falls ihr eine übersichtlichere oder komplexere Liste mit Einrückungen gestalten wollt, müsst ihr das jeweilige Listenzeichen so weit einrücken, dass es unter dem ersten Buchstaben des Wortes eine Zeile darüber steht.

* Macht
  * aber 
    * nicht zu viele Einrückungen. 

```{r eval = F}
* Macht
  * aber 
    * nicht zu viele Einrückungen.      
```

Das Ganze wird sonst schnell unübersichtlich. 

#### Übung

<!-- Die Übung können wir dann gerne hier stehen lassen. Vielleicht sollten wir auch einfach ein leeres Repo erstellen lassen oder so -->

Um das Ganze auch ein bisschen zu üben, werden wir jetzt das READme in eurem Projekt etwas verändern. Dafür loggt ihr euch auf dem LIFOS-Server ein und öffnet euer READme in der **Web IDE**. Diese ermöglicht euch euer READme direkt auf dem Server zu ändern, ohne es vorher runterladen und wieder hochladen zu müssen. 

![](/post/gitlabMarkdown_WebIDE.png)

Es öffnet sich euer READme in der Markdown Syntax. Hier könnt ihr ganz unten zu Übungszwecken nun folgenden Text einkopieren: 

Hier steht ein Header Typ 3.

Das hier soll fett gedruckt werden und das hier kursiv. 
Auf PandaR kann man richtig viel lernen, deswegen verlinken wir PandaR hier. 

Außerdem soll das hier in einer geordneten Liste aufgezählt werden: Tasse, Messer, Stift.

Um das Ergebnis anzuschauen, müsst ihr auf **Preview Markdown** gehen: 

![](/post/gitlabMarkdown_Preview.png)

Am Ende soll der Text so aussehen: 

![](/post/gitlabMarkdown_ÜbungFinal.png)

#### WebIDE

Falls ihr nun Änderungen in eurem READme getätigt habt, die ihr behalten wollt, könnt ihr das auf zwei unterschiedichen Wegen tun. 

Der eine geht über die *Web IDE*, die ihr im vorherigen Abschnitt schon kennengelernt habt. Ihr öffnet die *Web IDE* wie gehabt und verändert etwas an dem READme. 

![](/post/gitlabMarkdown_ÄnderungReadMe.png)

Ihr könnt euch diese Veränderung, wie ihr wisst auch im "fertigen" Zustand anschauen, wenn ihr auf *Preview Markdown* klickt. Wenn ihr zufrieden mit der Änderung seid, geht ihr link unten auf *Create commit...*.

![](/post/gitlabMarkdown_CreateCommitWebIDE.png)

Ihr gebt eine *Commit Message* ein. Diese ist wichtig, da andere Mitglieder eurer Gruppe oder ihr selbst die Änderungen nachvollziehen könnt.

![](/post/gitlabMarkdown_CommitTest.png)

Wie ihr sehen könnt, könnt ihr entweder den **main** Branch auswählen oder einen neuen Branch erstellen. Hier wählt ihr den **main** Branch aus. Falls ihr mehr über Branches wissen wollt, schaut euch dieses [Tutorial](https://pandar.netlify.app/post/branches/) an. 
Eure Änderungen sind jetzt im READme enthalten. 

Eine weitere Möglichkeit wäre, dass READme herunterzuladen auf euren Rechner, dort die Änderungen zu tätigen und anschließend das READme mit Update wieder hochzuladen. Ihr müsst bei allen Änderungen immer darauf achten auf dem **main** Branch zu bleiben! 

## Fazit
Ihr seht, dass euch Markdown vielfältige Möglichkeiten eröffnet euer READme ansprechend zu gestalten. Wir sind in diesem Tutorial die grundlegenden Basics durchgegangen, die man auf jeden Fall braucht. Markdown bietet aber noch viel mehr Möglichkeiten, zum Beispiel Schrift bunt zu gestalten oder Tabellen zu erstellen. Dafür kann man die [Markdown Dokumentation](https://www.markdownguide.org/extended-syntax/) zur "Extended Syntax" empfehlen. 

## Subgruppen

Das zweite große Thema dieses Tutorials ist nur für einen Teil von euch relevant. Hier wird man hinverlinkt, wenn man in den Visibility-Einstellungen keine passende Option für das eigene Projekt gefunden hat. 

Die Lösung kann durch sogenannte Subgruppen erreicht werden. Dabei wird aus der übergeordneten Elterngruppe der Abteilung eine Subgruppe gebildet, in der nur spezifische Personen der übergeordneten Gruppe eingeladen sein können. In jeder Elterngruppe können beliebig viele Subgruppen existieren. Benutzt dieses Tool aber bitte wirklich nur, wenn es die Lage des Datenschutzes nicht anders zulässt.

Außerdem kann man Subgruppen für folgendes benutzen: 

1. gut zum organisieren größerer Projekte
2. man kann jedem User eine andere Rolle geben (z.B. was er alles bearbeiten kann und was nicht)

### Subgruppen erstellen 

Um eine Subgruppe zu erstellen, müsst ihr unter *Menu* und *Groups* auf **Your Groups** gehen. 

![](/post/gitlabMarkdown_createSubgroups.png)

Anschließend wählt ihr die Gruppe aus in der ihr für euer Projekt eine Subgruppe erstellen wollt. In der Gruppe geht ihr oben rechts auf **New Subgroup**. 

![](/post/gitlabMarkdown_createSubgroups2.png)

Danach öffnet sich noch ein Fenster bei dem ihr auf **Create Groups** klickt. Danach öffnet sich eine Seite in der ihr alle möglichen Einstellungen für euer Projekt festlegen könnt. 

Zum einen könnt ihr festlegen,  ob nur ihr diese Gruppe benutzt oder ob ihr auch Projektpartner*innen habt. Diese könnt ihr darunter direkt einladen über ihre Mailadressen. 

Eure erstellte Subgruppe findet ihr dann auf der Startseite der übergeordneten Gruppe.

![](/post/gitlabMarkdown_seeSubgroups.png)

### Projekt in einer Subgruppe erstellen

Nachdem ihr die Subgruppe erstellt habt, könnt ihr hier ganz normal ein Projekt erstellen, wie ihr es von normalen Gruppen gewöhnt seid. Falls ihr das nochmal auffrischen wollt, hier ist der [Link](https://pandar.netlify.app/post/lifos-orientierung#projekt-erstellen).

Nachdem ihr dieses Projekt erstellt habt, könnt ihr euch unter **Settings** und *General* die Visibility-Features anschauen. 

![](/post/gitlabMarkdown_subgroupVisibility.png)

Wie ihr unter **Repository** sehen könnt, sind nur Projektmitglieder dazu in der Lage Dateien in diesem Projekt anzuschauen oder zu bearbeiten. 

## Fazit
Subgruppen bieten eine weitere Organisationsstruktur innerhalb einer Gruppe. Hier sollten sie allerdings nur benutzt werden, wenn aus Datenschutz-Technischen Gründen keine andere Option übrig bleiben sollte. 

***

### Appendix A

<details><summary> **R-Markdown** </summary>

#### Installation

Der Unterschied zwischen Markdown und R-Markdown ist sehr simpel. Mit R-Markdown könnt ihr Dokumente (wie zum Beispiel euer READme) in R bearbeiten, das alles basiert auf Markdown, aber es können zusätzlich noch R-Codechunks eingefügt werden.

Um R-Markdown benutzen zu können, müsst ihr es vorher installieren und in eure Datei implementieren. 
Das funktioniert mit:  

`install.packages("rmarkdown")`

und anschließend:

`library(rmarkdown)`

#### R-Code

Wenn ihr etwas R-Code in euer Dokument einfügen wollt, geht das wie folgt: 

```{r}
mean(c(5,6,7,8,9))     
```

```{r eval = F}
mean(c(5,6,7,8,9))     
```

Der R-Code muss funktionieren. Falls ihr hier etwas schreibt, was das in einer normalen R Session so auch nicht verarbeiten würde, wird euch ein Fehler angezeigt. Was unter dem R-Code angezeigt wird, ist das Ergebnis eures Ausdrucks. 

Ihr könnt auch Plots erstellen: 

```{r eval = F}
werte <- c(1, 3, 6, 4, 9)

plot(werte)

```
Ansonsten funktioniert alles so wie ihr es in dem "normalen" Markdown-Tutorial gelernt habt. 

</details>
 
 

