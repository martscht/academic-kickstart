---
title: Einleitung und Wiederholung KliPPs
date: '2021-10-06'
slug: einleitung-klipps
categories:
  - MSc5a
tags:
  - R Intro
  - Einführung
  - t-Test
  - Grundlagen der Inferenzstatistik
  - Type I-Error
  - Alpha Fehler
  - Power
  - Daten einlesen
subtitle: ''
summary: ''
authors: [nehler, irmer, schultze]
lastmod: '2021-10-05T16:40:21+02:00'
featured: no
header:
  image: "/header/FEI_Sitzung0_post.jpg"
  caption: "[Courtesy of pxhere](https://pxhere.com/en/photo/562631)"
projects: []
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<div id="einleitung" class="section level2">
<h2>Einleitung</h2>
<p>Im Verlauf des Seminars <em>Vertiefung der Forschungsmethodik für Psychotherapeut:innen</em> soll neben der Einführung in die Theorie und Hintergründe multivariater Verfahren auch eine Einführung in deren Umsetzung gegeben werden, sodass Sie in der Lage sind, diese Verfahren in Ihrem zukünftigen akademischen und beruflichen Werdegang zu benutzen. Für die Verwendung der Verfahren benötigen Sie natürlich Kenntnisse in einem Analysetool. <code>R</code> ist eine freie Software, die vor allem für (statistische) Datenanalysen verwendet wird.
Bevor Sie mit <code>R</code> arbeiten können, sollten Sie dafür natürlich die nötige Software (<code>R</code> als Programmiersprache und <code>R</code>-Studio als schöneres Interface) installiert haben. Hierzu eignet sich hervorragend der ebenfalls auf <a href="https://pandar.netlify.com/"><svg aria-hidden="true" role="img" viewBox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"/></svg> Pandar</a> zu findende <a href="/post/r-crash-kurs"><svg aria-hidden="true" role="img" viewBox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"/></svg><code>R</code>-Crash Kurs</a>, der im Bachelor unterrichtet. Dort gibt es die Intro und Installationsanweisung sowohl in deutscher als auch in englischer Sprache. <em>Wir werden zu Beginn noch einige Basics von <code>R</code> wiederholen, aber die Zeit für eine detaillierte Aufarbeitung liegt leider nicht vor. Falls Sie Probleme mit dem Verständnis haben, arbeiten Sie bitte das angegebene Intro durch.</em></p>
<hr />
</div>
<div id="rstudio" class="section level2">
<h2>RStudio</h2>
<p>Das traditionelle <code>R</code> ist im Rahmen seiner Nutzeroberfläche einer Konsole ähnlich und damit nicht sehr benutzerfreundlich. Durch die Erweiterung mit <code>RStudio</code> wird die Verwendung deutlich erleichtert, weshalb wir dieses auch herunterladen.</p>
<p><img src="/post/2019-10-18-r-crash-kurs_files/rstudio.png" /></p>
<p>RStudio besteht aus vier Panels. Wenn wir RStudio zum ersten Mal öffnen sind jedoch nur drei sichtbar. Das vierte wird durch das Öffnen eines neuen Files sichtbar (oder auch durch <strong>Strg+Shift+n</strong> bzw. in OS X: <strong>Cmd+Shift+n</strong>).</p>
<p>Zunächst betrachten wir das Fenster unten links - die Konsole. In dieser kann Code ausgeführt werden. Beispielsweise können wir dort eine Addition eingeben und erhalten nach dem Drücken von <strong>Enter</strong> dann das Ergebnis der Operation.</p>
<pre class="r"><code>2 + 1</code></pre>
<pre><code>## [1] 3</code></pre>
<p>Auf diese Weise kann man zwar Aktionen ausführen, hat nach dem Schließen von RStudio aber keine Dokumentation, was man durchgeführt hat. Dafür ist das Script, also das eben neu geöffnete File, im linken oberen Fenster gedacht. Dort kann Code geschrieben und später auch gespeichert werden. Wenn wir unsere Addition nun dort notieren und anschließend <strong>Enter</strong> drücken passiert erstmal nichts. Damit etwas passiert, muss die Syntax mit Run Button <img src="/post/2019-10-18-r-crash-kurs_files/run.png" /> oder mit <strong>Strg+Return</strong> (OS X: <strong>cmd+Return</strong>) ausgeführt werden. Das Ergebnis wird aber nicht im Script selbst, sondern in der Konsole angezeigt.</p>
<p>Oben rechts wird per Voreinstellung das <em>Environment</em> angezeigt, das wir gleich noch füllen werden. Unten rechts gibt es verschiedene Tabs wie beispielsweise die Hilfe und die Anzeige von Plots.</p>
<hr />
</div>
<div id="erste-schritte" class="section level2">
<h2>Erste Schritte</h2>
<p>Wir haben bereits eine Addition in unser Script geschrieben. Auch wenn wir dieses in zwei Jahren nochmal öffnen, werden wir uns wohl daran erinnern, was dieser Befehl macht. Das ist aber nicht immer so klar. Damit wir auch später noch wissen, weshalb wir eine Operation durchführen brauchen wir also <em>Kommentare</em>. In <code>R</code> werden sie durch (beliebig viele) <code>#</code> begonnen und enden bei einem Zeilenumbruch. Mit Kommentaren kann Syntax auch in verschiedene Abschnitte gegliedert werden. Wir empfehlen, Abschnittüberschriften mit <code>####</code> zu beginnen und mit <code>----</code> zu beenden. RStudio erkennt solche Kommentare automatisch als Überschriften und stellt über den <img src="/post/2019-10-18-r-crash-kurs_files/outline.png" /> Button eine darauf basierende Gliederung zur Verfügung.</p>
<p>Beispielsweise könnten wir also unser Skript nun folgendermaßen besser lesbar machen.</p>
<pre class="r"><code>#### Wiederholung in R ----

1 + 2   # Addition</code></pre>
<pre><code>## [1] 3</code></pre>
<p>In der Gliederung sollte in RStudio jetzt die Überschrift “Wiederholung in R” auftauchen.</p>
<p>Neben einfachen Taschenrechner-Funktionen mit <em>numerischen Ergebnissen</em> kann R auch logische Abfragen und Vergleiche durchführen. Hier folgt ein Beispiel für das Prüfen auf Gleichheit:</p>
<pre class="r"><code>3 == 4   # Logische Abfrage auf Gleichheit</code></pre>
<pre><code>## [1] FALSE</code></pre>
<p>Die Ergebnisse dieser Abfragen sind <em>boolesch</em> - also immer entweder wahr (<code>TRUE</code>) oder falsch (<code>FALSE</code>).</p>
<hr />
</div>
<div id="funktionen-und-argumente" class="section level2">
<h2>Funktionen und Argumente</h2>
<p>Die Umsetzung der Addition anhand normaler Zeichen ist recht simpel. Das ist jedoch eher eine Ausnahme, weshalb es in <code>R</code> vorprogrammierte Funktionen gibt. Für unsere bisherige Operation könnte man beispielsweise folgende Funktion nutzen:</p>
<pre class="r"><code>sum(1, 2) # Addition durch Funktion</code></pre>
<pre><code>## [1] 3</code></pre>
<p>Hier wird die Funktion <code>sum</code> genutzt, um eine Summe der Argumente (<code>1</code> und <code>2</code>) zu bilden. An diesem Beispiel lässt sich bereits die generelle Struktur von Funktionen in <code>R</code> erkennen:</p>
<pre><code>funktion(argument1, argument2, argument3, ...)</code></pre>
<p>Wenn Argumente verschiedene Funktionen haben, sollten sie auch benannt werden. Ein einfaches Beispiel ist das Ziehen des Logarithmus. Hier gibt es zusätzlich zu der Zahl eine Basis. In <code>R</code> würde das dann so aussehen:</p>
<pre class="r"><code>log(x = 23, base = 10) # Benennung von Argumenten</code></pre>
<pre><code>## [1] 1.361728</code></pre>
<p>Wenn die Benennung von Argumenten nicht gegeben ist, werden diese in ihrer Reihenfolge den Argumenten zugeordnet.</p>
<hr />
</div>
<div id="hilfe" class="section level2">
<h2>Hilfe</h2>
<p>Wenn man die Argumente (oder deren Reihenfolge) einer Funktion mal nicht kennt, bietet <code>R</code> ein sehr detailliertes und gut integriertes Hilfesystem. Wenn man mehr Informationen bezüglich einer spezifischen Funktion benötigt, kann man <code>help</code> auf jede beliebige Funktion anwenden (bzw. <code>?</code> vor den Namen einer Funktion schreiben). Sie sollten - besonders zum Einstieg in <code>R</code> - häufig und gezielt diese Hilfe in Anspruch nehmen.</p>
<pre class="r"><code>?log</code></pre>
<p>Die Hilfe zur Funktion wird im Panel unten rechts geöffnet und ist ein Dokument, in dem viele Informationen zu finden sind. Es besteht unter anderem aus einer Beschreibung der Funktion, Aufschlüsselung der Argumente und der Ergebnisse.</p>
<hr />
</div>
<div id="objekte-und-das-environment" class="section level2">
<h2>Objekte und das Environment</h2>
<p>Objekte dienen dazu, Ergebnisse abzulegen und diese in einer anderen Funktion zu verwenden. Die Zuweisung eines Ergebnisses zu einem Objekt erfolgt über den sog. Zuweisungspfeil <code>&lt;-</code>.</p>
<pre class="r"><code>#### Objekte ----
my_num &lt;- sum(3, 4, 1, 2) # Objekt zuweisen</code></pre>
<p>Anders als zuvor wird in diesem Fall in der Konsole kein Ergebnis ausgedruckt, sondern lediglich der Befehl gespiegelt. Das Ergebnis der Summen-Funktion ist im Objekt <code>my_num</code> abgelegt. Dieses Objekt sollte nun auch im Panel oben rechts - spezifischer im Tab <em>Environment</em> - aufgetaucht sein.</p>
<p>Um den Inhalt eines Objektes abzurufen, müssen Sie lediglich den Namen des Objektes ausführen:</p>
<pre class="r"><code>my_num # Objekt anzeigen</code></pre>
<pre><code>## [1] 10</code></pre>
<p>Das eigentliche Ziel von Objektzuweisungen ist aber (wie bereits gesagt), den Inhalt von Objekten an weitere Funktionen weiterreichen zu können. In diesem Beispiel nutzen wir <code>sqrt</code> - die Berechnung einer Wurzel.</p>
<pre class="r"><code>sqrt(my_num) # Objekt in Funktion einbinden</code></pre>
<pre><code>## [1] 3.162278</code></pre>
<p>Der Inhalt des Objektes wird so als Argument in die Funktion <code>sqrt</code> übergeben. Das ist letztlich das Gleiche wie</p>
<pre class="r"><code>sqrt(sum(3, 4, 1, 2)) # Verschachtelte Funktionen</code></pre>
<pre><code>## [1] 3.162278</code></pre>
<p>wo das Ergebnis nicht explizit in einem Objekt gespeichert wird, sondern direkt als Argument an eine Funktion weitergegeben wird. Dabei werden geschachtelte Funktionen von innen nach außen evaluiert. Die Aneinanderkettung von Objektzuweisungen und Schachtelungen ist unbegrenzt, sodass sehr komplexe Systeme entstehen können. Weil das aber sehr schnell anstrengend werden kann - und man dabei leicht den Überblick verliert, was eigentlich wann ausgeführt wird - gibt es noch eine weitere Variante, Funktionen aneinander zu reihen: die <em>Pipe</em>.</p>
<p>Bei der Pipe <code>|&gt;</code> wird ein links stehendes Objekt oder Ergebnis genommen und als <em>erstes Argument</em> der rechts stehenden Funktion eingesetzt. Für unser Wurzelbeispiel also:</p>
<pre class="r"><code>sum(3, 4, 1, 2) |&gt; sqrt() # Nutzung Pipe</code></pre>
<pre><code>## [1] 3.162278</code></pre>
<p>Das hat den immensen Vorteil, dass wir dadurch unseren Code wieder in der, im westlichen Kulturkreis üblichen Variante wie Text von links nach rechts lesen können. Dabei ist das was als erstes passiert links, das Ergebnis wird nach rechts weitergereicht und irgendetwas passiert damit. Ergebnisse, die man später noch braucht, sollten aber immer in einem Objekt abgelegt werden.</p>
<p>Ein Objekt kann nicht nur eine Zahl, sondern beispielsweise auch ein Vektor oder eine Matrix sein. Vektoren werden dabei mit <code>c()</code> und Matrizen mit <code>matrix()</code> erstellt.</p>
<pre class="r"><code>my_vec &lt;- c(1, 2, 3, 4) # Erstellung Vektor</code></pre>
<hr />
</div>
<div id="daten-einlesen-und-verarbeiten" class="section level2">
<h2>Daten einlesen und verarbeiten</h2>
<p>Alle Objekte, die bisher erstellt wurden, liegen im Workspace - sobald wir <code>R</code> schließen, wird dieser Workspace geleert und die Objekte gehen verloren. In den meisten Fällen ist das explizit gewünschtes Verhalten - durch die Syntax können wir die Objekte ja wiederherstellen - aber in manchen Fällen ist es Sinnvoll, Objekte wie Datensätze abzuspeichern und in späteren Schritten die bereits bearbeiteten Daten zu laden.</p>
<p>Im Rahmen der Einführung und der Wiederholung einiger Themen nutzen wir zunächst einen fiktiven Datensatz. Im weiteren Verlauf des Seminars werden wir dann echte Datensätze auswerten. Hier soll es um Depression in Beziehung zu einigen anderen Variablen gehen. Sie können den <a href="/post/Depression.rda"><svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"/></svg> Datensatz “Depression.rda” hier herunterladen</a>.</p>
<div id="daten-laden" class="section level3">
<h3>Daten laden</h3>
<p>Der Datensatz ist im <code>R</code>-internen “.rda” Format abgespeichert - einem datensatzspezifischen Dateiformat. Wir können diesen Datensatz einfach mit der <code>load</code> Funktion laden. Wir müssen <code>R</code> nur mitteilen, wo der Datensatz liegt et voilà, er wird uns zur Verfügung gestellt. Liegt der Datensatz bspw. auf dem Desktop, so müssen wir den Dateipfad dorthin legen und können dann den Datensatz laden (wir gehen hier davon aus, dass Ihr PC “Musterfrau” heißt):</p>
<pre class="r"><code>load(&quot;C:/Users/Musterfrau/Desktop/Depression.rda&quot;)</code></pre>
<p>Nun sollte in RStudio oben rechts in dem Fenster unter der Rubrik “Data” unser Datensatz mit dem Namen “<em>Depression</em>” erscheinen.</p>
<p>Bei Dateipfaden ist darauf zu achten, dass bei Linux <svg aria-hidden="true" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M220.8 123.3c1 .5 1.8 1.7 3 1.7 1.1 0 2.8-.4 2.9-1.5.2-1.4-1.9-2.3-3.2-2.9-1.7-.7-3.9-1-5.5-.1-.4.2-.8.7-.6 1.1.3 1.3 2.3 1.1 3.4 1.7zm-21.9 1.7c1.2 0 2-1.2 3-1.7 1.1-.6 3.1-.4 3.5-1.6.2-.4-.2-.9-.6-1.1-1.6-.9-3.8-.6-5.5.1-1.3.6-3.4 1.5-3.2 2.9.1 1 1.8 1.5 2.8 1.4zM420 403.8c-3.6-4-5.3-11.6-7.2-19.7-1.8-8.1-3.9-16.8-10.5-22.4-1.3-1.1-2.6-2.1-4-2.9-1.3-.8-2.7-1.5-4.1-2 9.2-27.3 5.6-54.5-3.7-79.1-11.4-30.1-31.3-56.4-46.5-74.4-17.1-21.5-33.7-41.9-33.4-72C311.1 85.4 315.7.1 234.8 0 132.4-.2 158 103.4 156.9 135.2c-1.7 23.4-6.4 41.8-22.5 64.7-18.9 22.5-45.5 58.8-58.1 96.7-6 17.9-8.8 36.1-6.2 53.3-6.5 5.8-11.4 14.7-16.6 20.2-4.2 4.3-10.3 5.9-17 8.3s-14 6-18.5 14.5c-2.1 3.9-2.8 8.1-2.8 12.4 0 3.9.6 7.9 1.2 11.8 1.2 8.1 2.5 15.7.8 20.8-5.2 14.4-5.9 24.4-2.2 31.7 3.8 7.3 11.4 10.5 20.1 12.3 17.3 3.6 40.8 2.7 59.3 12.5 19.8 10.4 39.9 14.1 55.9 10.4 11.6-2.6 21.1-9.6 25.9-20.2 12.5-.1 26.3-5.4 48.3-6.6 14.9-1.2 33.6 5.3 55.1 4.1.6 2.3 1.4 4.6 2.5 6.7v.1c8.3 16.7 23.8 24.3 40.3 23 16.6-1.3 34.1-11 48.3-27.9 13.6-16.4 36-23.2 50.9-32.2 7.4-4.5 13.4-10.1 13.9-18.3.4-8.2-4.4-17.3-15.5-29.7zM223.7 87.3c9.8-22.2 34.2-21.8 44-.4 6.5 14.2 3.6 30.9-4.3 40.4-1.6-.8-5.9-2.6-12.6-4.9 1.1-1.2 3.1-2.7 3.9-4.6 4.8-11.8-.2-27-9.1-27.3-7.3-.5-13.9 10.8-11.8 23-4.1-2-9.4-3.5-13-4.4-1-6.9-.3-14.6 2.9-21.8zM183 75.8c10.1 0 20.8 14.2 19.1 33.5-3.5 1-7.1 2.5-10.2 4.6 1.2-8.9-3.3-20.1-9.6-19.6-8.4.7-9.8 21.2-1.8 28.1 1 .8 1.9-.2-5.9 5.5-15.6-14.6-10.5-52.1 8.4-52.1zm-13.6 60.7c6.2-4.6 13.6-10 14.1-10.5 4.7-4.4 13.5-14.2 27.9-14.2 7.1 0 15.6 2.3 25.9 8.9 6.3 4.1 11.3 4.4 22.6 9.3 8.4 3.5 13.7 9.7 10.5 18.2-2.6 7.1-11 14.4-22.7 18.1-11.1 3.6-19.8 16-38.2 14.9-3.9-.2-7-1-9.6-2.1-8-3.5-12.2-10.4-20-15-8.6-4.8-13.2-10.4-14.7-15.3-1.4-4.9 0-9 4.2-12.3zm3.3 334c-2.7 35.1-43.9 34.4-75.3 18-29.9-15.8-68.6-6.5-76.5-21.9-2.4-4.7-2.4-12.7 2.6-26.4v-.2c2.4-7.6.6-16-.6-23.9-1.2-7.8-1.8-15 .9-20 3.5-6.7 8.5-9.1 14.8-11.3 10.3-3.7 11.8-3.4 19.6-9.9 5.5-5.7 9.5-12.9 14.3-18 5.1-5.5 10-8.1 17.7-6.9 8.1 1.2 15.1 6.8 21.9 16l19.6 35.6c9.5 19.9 43.1 48.4 41 68.9zm-1.4-25.9c-4.1-6.6-9.6-13.6-14.4-19.6 7.1 0 14.2-2.2 16.7-8.9 2.3-6.2 0-14.9-7.4-24.9-13.5-18.2-38.3-32.5-38.3-32.5-13.5-8.4-21.1-18.7-24.6-29.9s-3-23.3-.3-35.2c5.2-22.9 18.6-45.2 27.2-59.2 2.3-1.7.8 3.2-8.7 20.8-8.5 16.1-24.4 53.3-2.6 82.4.6-20.7 5.5-41.8 13.8-61.5 12-27.4 37.3-74.9 39.3-112.7 1.1.8 4.6 3.2 6.2 4.1 4.6 2.7 8.1 6.7 12.6 10.3 12.4 10 28.5 9.2 42.4 1.2 6.2-3.5 11.2-7.5 15.9-9 9.9-3.1 17.8-8.6 22.3-15 7.7 30.4 25.7 74.3 37.2 95.7 6.1 11.4 18.3 35.5 23.6 64.6 3.3-.1 7 .4 10.9 1.4 13.8-35.7-11.7-74.2-23.3-84.9-4.7-4.6-4.9-6.6-2.6-6.5 12.6 11.2 29.2 33.7 35.2 59 2.8 11.6 3.3 23.7.4 35.7 16.4 6.8 35.9 17.9 30.7 34.8-2.2-.1-3.2 0-4.2 0 3.2-10.1-3.9-17.6-22.8-26.1-19.6-8.6-36-8.6-38.3 12.5-12.1 4.2-18.3 14.7-21.4 27.3-2.8 11.2-3.6 24.7-4.4 39.9-.5 7.7-3.6 18-6.8 29-32.1 22.9-76.7 32.9-114.3 7.2zm257.4-11.5c-.9 16.8-41.2 19.9-63.2 46.5-13.2 15.7-29.4 24.4-43.6 25.5s-26.5-4.8-33.7-19.3c-4.7-11.1-2.4-23.1 1.1-36.3 3.7-14.2 9.2-28.8 9.9-40.6.8-15.2 1.7-28.5 4.2-38.7 2.6-10.3 6.6-17.2 13.7-21.1.3-.2.7-.3 1-.5.8 13.2 7.3 26.6 18.8 29.5 12.6 3.3 30.7-7.5 38.4-16.3 9-.3 15.7-.9 22.6 5.1 9.9 8.5 7.1 30.3 17.1 41.6 10.6 11.6 14 19.5 13.7 24.6zM173.3 148.7c2 1.9 4.7 4.5 8 7.1 6.6 5.2 15.8 10.6 27.3 10.6 11.6 0 22.5-5.9 31.8-10.8 4.9-2.6 10.9-7 14.8-10.4s5.9-6.3 3.1-6.6-2.6 2.6-6 5.1c-4.4 3.2-9.7 7.4-13.9 9.8-7.4 4.2-19.5 10.2-29.9 10.2s-18.7-4.8-24.9-9.7c-3.1-2.5-5.7-5-7.7-6.9-1.5-1.4-1.9-4.6-4.3-4.9-1.4-.1-1.8 3.7 1.7 6.5z"/></svg> oder Mac OS Rechnern <svg aria-hidden="true" role="img" viewBox="0 0 384 512" style="height:1em;width:0.75em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"/></svg> immer Front-Slashes (“/”) zum Anzeigen von Hierarchien zwischen Ordnern verwendet werden, während auf Windows Rechnern <svg aria-hidden="true" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M0 93.7l183.6-25.3v177.4H0V93.7zm0 324.6l183.6 25.3V268.4H0v149.9zm203.8 28L448 480V268.4H203.8v177.9zm0-380.6v180.1H448V32L203.8 65.7z"/></svg> im System aber bei Dateipfaden mit Back-Slashes gearbeitet wird (“\”). <code>R</code> nutzt auf Windows Rechnern <svg aria-hidden="true" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M0 93.7l183.6-25.3v177.4H0V93.7zm0 324.6l183.6 25.3V268.4H0v149.9zm203.8 28L448 480V268.4H203.8v177.9zm0-380.6v180.1H448V32L203.8 65.7z"/></svg> ebenfalls Front-Slashes (“/”). Das bedeutet, dass, wenn wir auf Windows Rechnern <svg aria-hidden="true" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M0 93.7l183.6-25.3v177.4H0V93.7zm0 324.6l183.6 25.3V268.4H0v149.9zm203.8 28L448 480V268.4H203.8v177.9zm0-380.6v180.1H448V32L203.8 65.7z"/></svg> den Dateipfad aus dem Explorer kopieren, wir die Slashes “umdrehen” müssen.</p>
<p>Genauso sind Sie in der Lage, den Datensatz direkt aus dem Internet zu laden. Hierzu brauchen Sie nur die URL und müssen <code>R</code> sagen, dass es sich bei dieser um eine URL handelt, indem Sie die Funktion <code>url</code> auf den Link anwenden. Der funktionierende Befehl sieht so aus (wobei die URL in Anführungszeichen geschrieben werden muss):</p>
<pre class="r"><code>load(url(&quot;https://pandar.netlify.app/post/Depression.rda&quot;))</code></pre>
<p>An diesem Link erkennen wir, dass Websiten im Grunde auch nur schön dargestellte Ordnerstrukturen sind. So liegt auf der Pandar-Seite, die auf <em>netlify.app</em> gehostet wird, ein Ordner namens <em>post</em>, in welchem wiederum das <code>Depression.rda</code> liegt.</p>
<p>Natürlich kann <code>R</code> auch andere Dateiformate einladen. Dafür gibt es jeweils spezifische Befehle, die sich meist sehr leicht per Internetrecherche finden lassen.</p>
</div>
<div id="daten-screening" class="section level3">
<h3>Daten Screening</h3>
<p>Wir können uns die ersten (6) Zeilen des Datensatzes mit der Funktion <code>head</code> ansehen. Dazu müssen wir diese Funktion auf den Datensatz (das Objekt) <code>Depression</code> anwenden:</p>
<pre class="r"><code>head(Depression) # ersten 6 Zeilen</code></pre>
<pre><code>##   Lebenszufriedenheit Episodenanzahl Depressivitaet Neurotizismus
## 1                   7              4              7             5
## 2                   5              5              8             3
## 3                   8              7              6             6
## 4                   6              4              5             5
## 5                   6              9              8             5
## 6                   8              7              8             6
##     Intervention Geschlecht
## 1 Kontrollgruppe          0
## 2 Kontrollgruppe          1
## 3 Kontrollgruppe          0
## 4 Kontrollgruppe          1
## 5 Kontrollgruppe          1
## 6 Kontrollgruppe          1</code></pre>
<p>Wir erkennen die 6 Spalten mit den Variablen Lebenszufriedenheit, Depressivitaet usw. Da es sich bei unserem Datensatz um ein Objekt vom Typ <code>data.frame</code> handelt, können wir die Variablennamen des Datensatzes außerdem mit der <code>names</code> Funktion abfragen. Eine weitere interessante Funktion ist <code>dim</code>, die die Anzahl der Zeilen und Spalten ausgibt. Mit <code>str</code> kann die Struktur des Datensatzes angezeigt werden.</p>
<pre class="r"><code>names(Depression) # Namen der Variablen</code></pre>
<pre><code>## [1] &quot;Lebenszufriedenheit&quot; &quot;Episodenanzahl&quot;      &quot;Depressivitaet&quot;     
## [4] &quot;Neurotizismus&quot;       &quot;Intervention&quot;        &quot;Geschlecht&quot;</code></pre>
<pre class="r"><code>dim(Depression) # Anzahl der Zeilen und Spalten </code></pre>
<pre><code>## [1] 90  6</code></pre>
<pre class="r"><code>str(Depression) # Informationen zu Variablentypen</code></pre>
<pre><code>## &#39;data.frame&#39;:    90 obs. of  6 variables:
##  $ Lebenszufriedenheit: num  7 5 8 6 6 8 7 5 8 6 ...
##  $ Episodenanzahl     : num  4 5 7 4 9 7 6 6 8 7 ...
##  $ Depressivitaet     : num  7 8 6 5 8 8 7 6 8 6 ...
##  $ Neurotizismus      : num  5 3 6 5 5 6 6 5 6 7 ...
##  $ Intervention       : Factor w/ 3 levels &quot;Kontrollgruppe&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ Geschlecht         : Factor w/ 2 levels &quot;0&quot;,&quot;1&quot;: 1 2 1 2 2 2 2 1 2 1 ...</code></pre>
<p>Mit der Struktur bekommen wir für jede Variable den Typ und einige Werte angezeigt. Wir sehen, dass wir vier numerische Variablen und zwei Faktoren haben.</p>
<p>Im Kern werden in R drei Typen von Vektoren unterschieden:</p>
<table>
<thead>
<tr class="header">
<th>Typ</th>
<th>Kurzform</th>
<th>Inhalt</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>logical</code></td>
<td><code>logi</code></td>
<td>wahr (<code>TRUE</code>) oder falsch (<code>FALSE</code>)</td>
</tr>
<tr class="even">
<td><code>numeric</code></td>
<td><code>num</code></td>
<td>Beliebige Zahlen</td>
</tr>
<tr class="odd">
<td><code>character</code></td>
<td><code>char</code></td>
<td>Kombinationen aus Zahlen und Buchstaben</td>
</tr>
</tbody>
</table>
<p>Um zu prüfen, ob ein Objekt oder eine Variable einen erwarteten Typ hat, können wir mit Funktionen vor den Typ-Namen <code>is.</code> schreiben und das als Funktion anwenden:</p>
<pre class="r"><code>is.factor(Depression$Geschlecht)</code></pre>
<pre><code>## [1] TRUE</code></pre>
<p>Das Präfix <code>as.</code> wandelt dann Vektoren von einem Typ in einen um (bspw. <code>as.numeric</code>). Das führen wir nun aber nicht aus, da die Typen insgesamt schon dem Wunsch entsprechen.</p>
<p><em><strong>Tipp:</strong> In <code>R</code>-Studio können Sie sich Ihren Umgang mit der Software in vielen Dingen vereinfachen, indem Sie die automatische Vervollständigung der Software nutzen. Dies tun Sie, indem Sie bspw. <code>Depression$</code> tippen und dann den Tabulator [oder “Strg” + “Leertaste” auf Windows <svg aria-hidden="true" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M0 93.7l183.6-25.3v177.4H0V93.7zm0 324.6l183.6 25.3V268.4H0v149.9zm203.8 28L448 480V268.4H203.8v177.9zm0-380.6v180.1H448V32L203.8 65.7z"/></svg> oder Linux Rechner <svg aria-hidden="true" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M220.8 123.3c1 .5 1.8 1.7 3 1.7 1.1 0 2.8-.4 2.9-1.5.2-1.4-1.9-2.3-3.2-2.9-1.7-.7-3.9-1-5.5-.1-.4.2-.8.7-.6 1.1.3 1.3 2.3 1.1 3.4 1.7zm-21.9 1.7c1.2 0 2-1.2 3-1.7 1.1-.6 3.1-.4 3.5-1.6.2-.4-.2-.9-.6-1.1-1.6-.9-3.8-.6-5.5.1-1.3.6-3.4 1.5-3.2 2.9.1 1 1.8 1.5 2.8 1.4zM420 403.8c-3.6-4-5.3-11.6-7.2-19.7-1.8-8.1-3.9-16.8-10.5-22.4-1.3-1.1-2.6-2.1-4-2.9-1.3-.8-2.7-1.5-4.1-2 9.2-27.3 5.6-54.5-3.7-79.1-11.4-30.1-31.3-56.4-46.5-74.4-17.1-21.5-33.7-41.9-33.4-72C311.1 85.4 315.7.1 234.8 0 132.4-.2 158 103.4 156.9 135.2c-1.7 23.4-6.4 41.8-22.5 64.7-18.9 22.5-45.5 58.8-58.1 96.7-6 17.9-8.8 36.1-6.2 53.3-6.5 5.8-11.4 14.7-16.6 20.2-4.2 4.3-10.3 5.9-17 8.3s-14 6-18.5 14.5c-2.1 3.9-2.8 8.1-2.8 12.4 0 3.9.6 7.9 1.2 11.8 1.2 8.1 2.5 15.7.8 20.8-5.2 14.4-5.9 24.4-2.2 31.7 3.8 7.3 11.4 10.5 20.1 12.3 17.3 3.6 40.8 2.7 59.3 12.5 19.8 10.4 39.9 14.1 55.9 10.4 11.6-2.6 21.1-9.6 25.9-20.2 12.5-.1 26.3-5.4 48.3-6.6 14.9-1.2 33.6 5.3 55.1 4.1.6 2.3 1.4 4.6 2.5 6.7v.1c8.3 16.7 23.8 24.3 40.3 23 16.6-1.3 34.1-11 48.3-27.9 13.6-16.4 36-23.2 50.9-32.2 7.4-4.5 13.4-10.1 13.9-18.3.4-8.2-4.4-17.3-15.5-29.7zM223.7 87.3c9.8-22.2 34.2-21.8 44-.4 6.5 14.2 3.6 30.9-4.3 40.4-1.6-.8-5.9-2.6-12.6-4.9 1.1-1.2 3.1-2.7 3.9-4.6 4.8-11.8-.2-27-9.1-27.3-7.3-.5-13.9 10.8-11.8 23-4.1-2-9.4-3.5-13-4.4-1-6.9-.3-14.6 2.9-21.8zM183 75.8c10.1 0 20.8 14.2 19.1 33.5-3.5 1-7.1 2.5-10.2 4.6 1.2-8.9-3.3-20.1-9.6-19.6-8.4.7-9.8 21.2-1.8 28.1 1 .8 1.9-.2-5.9 5.5-15.6-14.6-10.5-52.1 8.4-52.1zm-13.6 60.7c6.2-4.6 13.6-10 14.1-10.5 4.7-4.4 13.5-14.2 27.9-14.2 7.1 0 15.6 2.3 25.9 8.9 6.3 4.1 11.3 4.4 22.6 9.3 8.4 3.5 13.7 9.7 10.5 18.2-2.6 7.1-11 14.4-22.7 18.1-11.1 3.6-19.8 16-38.2 14.9-3.9-.2-7-1-9.6-2.1-8-3.5-12.2-10.4-20-15-8.6-4.8-13.2-10.4-14.7-15.3-1.4-4.9 0-9 4.2-12.3zm3.3 334c-2.7 35.1-43.9 34.4-75.3 18-29.9-15.8-68.6-6.5-76.5-21.9-2.4-4.7-2.4-12.7 2.6-26.4v-.2c2.4-7.6.6-16-.6-23.9-1.2-7.8-1.8-15 .9-20 3.5-6.7 8.5-9.1 14.8-11.3 10.3-3.7 11.8-3.4 19.6-9.9 5.5-5.7 9.5-12.9 14.3-18 5.1-5.5 10-8.1 17.7-6.9 8.1 1.2 15.1 6.8 21.9 16l19.6 35.6c9.5 19.9 43.1 48.4 41 68.9zm-1.4-25.9c-4.1-6.6-9.6-13.6-14.4-19.6 7.1 0 14.2-2.2 16.7-8.9 2.3-6.2 0-14.9-7.4-24.9-13.5-18.2-38.3-32.5-38.3-32.5-13.5-8.4-21.1-18.7-24.6-29.9s-3-23.3-.3-35.2c5.2-22.9 18.6-45.2 27.2-59.2 2.3-1.7.8 3.2-8.7 20.8-8.5 16.1-24.4 53.3-2.6 82.4.6-20.7 5.5-41.8 13.8-61.5 12-27.4 37.3-74.9 39.3-112.7 1.1.8 4.6 3.2 6.2 4.1 4.6 2.7 8.1 6.7 12.6 10.3 12.4 10 28.5 9.2 42.4 1.2 6.2-3.5 11.2-7.5 15.9-9 9.9-3.1 17.8-8.6 22.3-15 7.7 30.4 25.7 74.3 37.2 95.7 6.1 11.4 18.3 35.5 23.6 64.6 3.3-.1 7 .4 10.9 1.4 13.8-35.7-11.7-74.2-23.3-84.9-4.7-4.6-4.9-6.6-2.6-6.5 12.6 11.2 29.2 33.7 35.2 59 2.8 11.6 3.3 23.7.4 35.7 16.4 6.8 35.9 17.9 30.7 34.8-2.2-.1-3.2 0-4.2 0 3.2-10.1-3.9-17.6-22.8-26.1-19.6-8.6-36-8.6-38.3 12.5-12.1 4.2-18.3 14.7-21.4 27.3-2.8 11.2-3.6 24.7-4.4 39.9-.5 7.7-3.6 18-6.8 29-32.1 22.9-76.7 32.9-114.3 7.2zm257.4-11.5c-.9 16.8-41.2 19.9-63.2 46.5-13.2 15.7-29.4 24.4-43.6 25.5s-26.5-4.8-33.7-19.3c-4.7-11.1-2.4-23.1 1.1-36.3 3.7-14.2 9.2-28.8 9.9-40.6.8-15.2 1.7-28.5 4.2-38.7 2.6-10.3 6.6-17.2 13.7-21.1.3-.2.7-.3 1-.5.8 13.2 7.3 26.6 18.8 29.5 12.6 3.3 30.7-7.5 38.4-16.3 9-.3 15.7-.9 22.6 5.1 9.9 8.5 7.1 30.3 17.1 41.6 10.6 11.6 14 19.5 13.7 24.6zM173.3 148.7c2 1.9 4.7 4.5 8 7.1 6.6 5.2 15.8 10.6 27.3 10.6 11.6 0 22.5-5.9 31.8-10.8 4.9-2.6 10.9-7 14.8-10.4s5.9-6.3 3.1-6.6-2.6 2.6-6 5.1c-4.4 3.2-9.7 7.4-13.9 9.8-7.4 4.2-19.5 10.2-29.9 10.2s-18.7-4.8-24.9-9.7c-3.1-2.5-5.7-5-7.7-6.9-1.5-1.4-1.9-4.6-4.3-4.9-1.4-.1-1.8 3.7 1.7 6.5z"/></svg> oder “Control” + “Leertaste” auf Mac OS Rechnern <svg aria-hidden="true" role="img" viewBox="0 0 384 512" style="height:1em;width:0.75em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"/></svg>] auf Ihrer Tastatur drücken. Ihnen werden dann Vorschläge für mögliche Argumente aufgezeigt. Das Gleiche funktioniert auch in Funktionen. Hier müssen Sie zunächst den Funktionsnamen schreiben und die Klammern öffnen. Mit dem Tabulator erhalten Sie anschließend Vorschläge für mögliche Argumente, die Sie der Funktion übergeben können. Schauen Sie sich dies doch einmal an! Dies funktioniert übrigens auch für das Vervollständigen von Dateipfaden. Hierbei muss allerdings darauf geachtet werden, dass diese in Anführungsstrichen geschrieben werden und Sie müssen beachten, wo ihr aktuelles Working-Directory liegt. Sie können allerdings auch den vollständigen Pfad eingeben, indem Sie auf Windows PCs <svg aria-hidden="true" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M0 93.7l183.6-25.3v177.4H0V93.7zm0 324.6l183.6 25.3V268.4H0v149.9zm203.8 28L448 480V268.4H203.8v177.9zm0-380.6v180.1H448V32L203.8 65.7z"/></svg> mit “C:/Users/” und auf Mac OS-Rechnern <svg aria-hidden="true" role="img" viewBox="0 0 384 512" style="height:1em;width:0.75em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"/></svg> mit “/Users/” beginnen und dann den Tabulator drücken und den jeweilig richtigen Ordner auswählen, bis Sie an Ihrer Zieldatei angekommen sind!</em></p>
<p>Bei Faktoren können wir uns die verschiedenen Stufen mittels <code>levels</code> anzeigen lassen.</p>
<pre class="r"><code>levels(Depression$Geschlecht)</code></pre>
<pre><code>## [1] &quot;0&quot; &quot;1&quot;</code></pre>
<p>Wir sehen also, dass die Variable Geschlecht zwei mögliche Ausprägungen hat. Diese sind jedoch auch numerisch kodiert, was für die Anschaulichkeit nicht sinnvoll ist. Wir wollen den Faktorstufen ihre Bedeutung zuordnen. In unserem Kodierschema finden wir die Information, dass die 0 für männlich steht, während die 1 für weiblich steht.</p>
<pre class="r"><code>levels(Depression$Geschlecht) &lt;- c(&quot;maennlich&quot;, &quot;weiblich&quot;)</code></pre>
</div>
<div id="datenextraktion" class="section level3">
<h3>Datenextraktion</h3>
<p>Bei der Datenauswertung und -inspektion kann es aber genauso wichtig sein, Einzelteile von Datensätzen zu extrahieren. Die einfache Extraktion funktioniert in <code>R</code> über eckige Klammern. Beispielsweise können wir uns den fünften Eintrag in der Depressivitaet anzeigen lassen:</p>
<pre class="r"><code>Depression$Depressivitaet[5] # Extrahieren</code></pre>
<pre><code>## [1] 8</code></pre>
<p>Dabei kann man natürlich auch mehr als einen Wert auswählen, indem man Faktoren verwendet. Der Doppelpunkt bedeutet in dem Falle alle ganzen Zahlen zwischen den angegeben Grenzen.</p>
<pre class="r"><code>Depression$Depressivitaet[c(1, 3:5)] # Mehrfach Extrahieren</code></pre>
<pre><code>## [1] 7 6 5 8</code></pre>
<p>Weil wir die Variable einzeln auswählen und diese dadurch eindimensional ist, benötigen wir zur Auswahl von Elementen nur eine Information. Wenn wir aus dem vollen <code>data.frame</code> auswählen, sieht das natürlich anders aus. Um beispielsweise die Lebenszufriedenheit und Arbeitsbeanspruchung der ersten beiden Personen zu betrachten, müssen wir die ersten zwei Zeilen und ersten zwei Spalten ansprechen. Bei mehrdimensionalen Objekten werden in R die Dimensionen in eckigen Klammern einfach durch Kommata getrennt:</p>
<pre class="r"><code>Depression[c(1:2), c(1:2)] # Extrahieren aus Matrix</code></pre>
<pre><code>##   Lebenszufriedenheit Episodenanzahl
## 1                   7              4
## 2                   5              5</code></pre>
<p>In R-Termini nimmt die Auswahlfunktion (die eckigen Klammern) in diesem Fall zwei Argumente entgegen: Zeile und Spalte. Wenn ein Argument ausgelassen wird, ist die Voreinstellung, dass alle Elemente dieser Dimension ausgegeben werden:</p>
<pre class="r"><code>Depression[1, ]   # 1. Zeile, alle Spalten</code></pre>
<pre><code>##   Lebenszufriedenheit Episodenanzahl Depressivitaet Neurotizismus
## 1                   7              4              7             5
##     Intervention Geschlecht
## 1 Kontrollgruppe  maennlich</code></pre>
</div>
<div id="daten-verändern" class="section level3">
<h3>Daten verändern</h3>
<p>Der Zuweisungspfeil funktioniert auch für Elemente größerer Objekte. Nehmen wir an, wir hätten uns bei der Eingabe der 5. Person im Geschlecht vertippt. Um die vorhandenen Daten zu überschreiben, können wir neue Werte direkt zuweisen. Beim Überschreiben eines Werts gibt es keinerlei Warnung. Sobald die Zuweisung ausgeführt ist, sind die Daten überschrieben und die vorherigen Daten verloren. Daher ist dies stets mit Vorsicht durchzuführen.</p>
<pre class="r"><code>Depression[5, 6]           # Aktuellen Inhalt abfragen</code></pre>
<pre><code>## [1] weiblich
## Levels: maennlich weiblich</code></pre>
<pre class="r"><code>Depression[5, 6] &lt;- &quot;maennlich&quot;    # Aktuellen Inhalt überschreiben
Depression[, 6]                    # Alle Geschlechter abfragen</code></pre>
<pre><code>##  [1] maennlich weiblich  maennlich weiblich  maennlich weiblich  weiblich 
##  [8] maennlich weiblich  maennlich weiblich  weiblich  weiblich  weiblich 
## [15] weiblich  weiblich  weiblich  maennlich weiblich  maennlich weiblich 
## [22] weiblich  weiblich  weiblich  weiblich  weiblich  weiblich  maennlich
## [29] weiblich  weiblich  weiblich  maennlich weiblich  weiblich  weiblich 
## [36] maennlich maennlich maennlich weiblich  maennlich maennlich maennlich
## [43] maennlich maennlich maennlich maennlich weiblich  maennlich maennlich
## [50] weiblich  maennlich weiblich  weiblich  maennlich maennlich maennlich
## [57] weiblich  maennlich maennlich maennlich maennlich maennlich maennlich
## [64] maennlich maennlich maennlich maennlich maennlich maennlich maennlich
## [71] maennlich maennlich maennlich maennlich maennlich maennlich maennlich
## [78] maennlich maennlich maennlich maennlich maennlich maennlich weiblich 
## [85] maennlich maennlich weiblich  maennlich weiblich  weiblich 
## Levels: maennlich weiblich</code></pre>
<hr />
</div>
</div>
<div id="einfache-analysen" class="section level2">
<h2>Einfache Analysen</h2>
<p>Natürlich wollen wir nicht nur mit den Daten spielen, sondern Auswertungen durchführen, die unsere empirischen Fragestellungen beantworten können. Für viele wichtige Analysearten der Psychologie gibt es dabei schon vorgeschriebene Funktionen, deren Argumente nur mit den korrekten Analysen gefüllt werden müssen.</p>
<div id="einfache-deskriptivstatistiken" class="section level3">
<h3>Einfache Deskriptivstatistiken</h3>
<p>Bevor wir mit den in der Vorlesung besprochenen Analysen anfangen, wollen wir uns noch schnell mit dem Bestimmen einfacher deskriptivstatistischer Größen vertraut machen. Mit der Funktion <code>mean</code> können wir den Mittelwert einer Variable bestimmen. Eine Schätzung für die Populationsvarianz erhalten wir mit <code>var</code>. <em>Es handelt sich hierbei um Populations- und nicht um Stichprobenschätzungen, da in diesen Funktionen der Vorfaktor <span class="math inline">\(\frac{1}{n-1}\)</span> genutzt wird, um einen unverzerrten Schätzer für eben die Variation in der Population zu erhalten (für mehr Informationen siehe bspw. <a href="https://hds.hebis.de/ubffm/Record/HEB366849158">Eid, Gollwitzer und Schmitt, 2017</a>, S. 162-163 in Kapitel 6.4.4 und S. 246-247 in Kapitel 8.5.1 oder <a href="https://hds.hebis.de/ubffm/Record/HEB369761391">Agresti, &amp; Finlay, 2013</a>, Kapitel 3.2 und folgend).</em></p>
<pre class="r"><code>mean(Depression$Depressivitaet) # Mittwelert</code></pre>
<pre><code>## [1] 5.655556</code></pre>
<pre class="r"><code>var(Depression$Depressivitaet) # Varianz</code></pre>
<pre><code>## [1] 3.127216</code></pre>
<p>Mit <code>summary</code> können wir uns die Zusammenfassung einer Variable ansehen.</p>
<pre class="r"><code>summary(Depression$Depressivitaet) # Zusammenfassung numerisch</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   1.000   5.000   6.000   5.656   7.000  10.000</code></pre>
<pre class="r"><code>summary(Depression$Geschlecht) # Zusammenfassung factor</code></pre>
<pre><code>## maennlich  weiblich 
##        54        36</code></pre>
<p>Im numerischen Fall erhalten wir in der Ausgabe einige beschreibende Kennwerte wie das Minimum, Maximum oder auch den Mittelwert. Beim Faktor hingegen wird eine Übersicht über die Verteilung erstellt. Wir erkennen, dass <code>summary</code> je nach Typ, auf das es angewendet wird, verschiedene Outputs erzeugt. Dies kann häufig auch einfach die Zusammenfassung einer Analyse sein, was wir später nochmal sehen werden.</p>
<p>Als letztes gucken wir uns noch den Befehl <code>colMeans</code> an, welcher Mittelwerte eines Datensatzes über die Spalten (also pro Variable über alle Personen) bestimmt. Somit lassen sich ganz einfach für alle Variablen eines Datensatzes auf einmal die Mittelwerte bestimmen (<code>rowMeans</code> bestimmt, wie Sie sich wahrscheinlich denken, die Mittelwerte pro Zeile, also die Mittelwerte über alle Variablen pro Person):</p>
<pre class="r"><code>colMeans(Depression[1:4]) # Spaltenmittelwerte</code></pre>
<p>Wir wählen hier nur die ersten vier Spalten, weil der Mittelwert für Faktoren nicht sinnvoll ist und auch in <code>R</code> eine Fehlermeldung erzeugt.</p>
</div>
<div id="zusammenhang-und-lineare-regression" class="section level3">
<h3>Zusammenhang und lineare Regression</h3>
<p>Die lineare Regression ist eine sehr einfache Analye, um den Zusammenhang zwischen zwei Variablen zu untersuchen.</p>
<p>Natürlich ist die Analyse nicht ohne Voraussetzungen. Diese sind im folgenden der Vollständigkeit halber aufgeführt, werden aber nicht nochmal näher betrachtet.</p>
<ol style="list-style-type: decimal">
<li>Linearität: Zusammenhang muss linear sein <span class="math inline">\(\rightarrow\)</span> Grafische Überprüfung (Scatterplot)<br />
</li>
<li>Varianzhomogenität (Homoskedastizität) der Fehler: der Fehler jedes Wertes der UV hat annährend die gleiche Varianz<br />
</li>
<li>Normalverteilung der Fehlervariablen<br />
</li>
<li>Unabhängigkeit der Fehler</li>
</ol>
<p>Eine simple Darstellung des Zusammenhangs kann man über die <code>plot</code>-Funktion abbilden. Schönere Grafiken erhält man mittels <code>ggplot</code>, zu dem Sie sich <a href="/post/grafiken-mit-ggplot2">hier</a> nochmal genauer informieren können.</p>
<pre class="r"><code>plot(Depression$Lebenszufriedenheit, Depression$Depressivitaet, xlab = &quot;Lebenszufriedenheit&quot;, ylab = &quot;Lebenszufriedenheit&quot;)</code></pre>
<p><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-28-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Die Umsetzung der Parameterschätzung anhand der kleinsten Quadrate ist mit der Funktion <code>lm</code> möglich. Beachten Sie hierbei, dass angegeben wird, welche Variable durch welche Variable vorhergesagt wird. Das bedeutet, dass wir hier zuerst Depressivitaet und dann Lebenszufriedenheit nennen müssen.</p>
<pre class="r"><code>lm(Depressivitaet ~ Lebenszufriedenheit, Depression) # lineare Regression</code></pre>
<pre><code>## 
## Call:
## lm(formula = Depressivitaet ~ Lebenszufriedenheit, data = Depression)
## 
## Coefficients:
##         (Intercept)  Lebenszufriedenheit  
##              9.1217              -0.5416</code></pre>
<p>Der hier gegebene Output enthält zwar die wichtigsten Informationen, doch wird eigentlich noch viel mehr innerhalb der Funktion berechnet. Dies ist ein gutes Beispiel dafür, dass es manchmal Sinn macht, auch die Ergebnisse der Analyse in ein Objekt abzulegen.</p>
<pre class="r"><code>model &lt;- lm(Depressivitaet ~ Lebenszufriedenheit, Depression) # Objektzuweisung</code></pre>
<p>Beispielsweise können wir wie bereits angedeutet die Funktion <code>summary</code> verwenden, um eine Zusammenfassung der Ergebnisse zu erhalten.</p>
<pre class="r"><code>summary(model)</code></pre>
<pre><code>## 
## Call:
## lm(formula = Depressivitaet ~ Lebenszufriedenheit, data = Depression)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -4.4138 -0.9346  0.1278  1.0446  3.5862 
## 
## Coefficients:
##                     Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)           9.1217     0.7092  12.862  &lt; 2e-16 ***
## Lebenszufriedenheit  -0.5416     0.1078  -5.026 2.61e-06 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 1.568 on 88 degrees of freedom
## Multiple R-squared:  0.223,  Adjusted R-squared:  0.2142 
## F-statistic: 25.26 on 1 and 88 DF,  p-value: 2.614e-06</code></pre>
<p>Hier werden uns neben dem Steigungskoeffizienten und dem Achsenabschnitt auch noch beispielsweise deren Signifikanz und <span class="math inline">\(R^2\)</span> angezeigt.</p>
<p>Doch es gibt noch einige weitere Informationen, die von der Funktion <code>lm</code> abgelegt werden. Die Bezeichnung der Einträge in der Liste <code>model</code> kann über <code>names</code> abgefragt werden.</p>
<pre class="r"><code>names(model) #andere Inhalte der Liste</code></pre>
<pre><code>##  [1] &quot;coefficients&quot;  &quot;residuals&quot;     &quot;effects&quot;       &quot;rank&quot;         
##  [5] &quot;fitted.values&quot; &quot;assign&quot;        &quot;qr&quot;            &quot;df.residual&quot;  
##  [9] &quot;xlevels&quot;       &quot;call&quot;          &quot;terms&quot;         &quot;model&quot;</code></pre>
<p>Die weiteren Inhalte umfassen unter anderem die <code>residuals</code>, die für das Prüfen der Voraussetzungen wichtig wären, aber auch die vorhergesagten Werte.</p>
<p>Nachdem wir nun einer kurze Wiederholung zur Analyse zum Zusammenhang zwischen zwei Variablen betrachtet haben, geht es im folgenden Teil um den Unterschied zwischen Gruppen.</p>
</div>
<div id="der-t-test" class="section level3">
<h3>Der <span class="math inline">\(t\)</span>-Test</h3>
<p>Ein sehr einfacher statistischer Test auf Unterschied, ist der <span class="math inline">\(t\)</span>-Test (für eine Wiederholung siehe bspw. <a href="https://hds.hebis.de/ubffm/Record/HEB366849158">Eid, et al., 2017</a>, Kapitel 11.1 oder <a href="https://hds.hebis.de/ubffm/Record/HEB369761391">Agresti, &amp; Finlay, 2013,</a> Kapitel 6.2 und folgend). Mit Hilfe dieses Tests soll untersucht werden, ob die Mittelwerte in zwei Gruppen gleich sind. Dazu brauchen wir drei wichtige Annahmen:</p>
<ol style="list-style-type: decimal">
<li>die Beobachtungen stammen aus einer <em>independent and identically distributed</em> (i.i.d., deutsch: unabhängig und identisch verteilt) Population (dies bedeutet, dass alle Beobachtungen unabhängig sind und den gleichen Verteilungs- und Modellannahmen unterliegen),</li>
<li>die Daten in beiden Gruppen sind normalverteilt mit</li>
<li>gleicher Varianz (Varianzhomogenität).</li>
</ol>
<p>Die 1. Annahme ist sehr kritisch und lässt sich leider nicht prüfen. Sie lässt sich aber durch das Studiendesign zumindest plausibilisieren. Für die anderen beiden Annahmen gibt es verschiedene Tests und deskriptive Verfahren, um ein Gefühl für ihr Vorliegen zu erhalten. Das Prüfen der Voraussetzungen werden wir nun aber nicht genauer betrachten und gehen davon aus, dass diese gegeben sind.</p>
<p>In diesem Beispiel wollen wir uns damit beschäftigen, ob die Depressivitaetswerte in den Gruppen der Männer und Frauen gleich verteilt sind. Wir beschäftigen uns mit unabhängigen Stichproben. Für die Testung stellen wir die folgenden Null-Hypothese auf - die Gleichheit der Mittelwerte in den beiden Gruppen:
<span class="math display">\[H_0: \mu_1=\mu_2\]</span>
Diese Hypothese gilt nicht, wenn <span class="math inline">\(\mu_1\neq\mu_2\)</span>. In diesem Fall gilt irgendeine Alternativhypothese (<span class="math inline">\(H_1\)</span>) mit einer Mittelwertsdifferenz <span class="math inline">\(d=\mu_1-\mu_2\)</span>, die nicht Null ist <span class="math inline">\((d\neq0)\)</span>. Das würde bedeuten, dass sich die Depressivitaets-Werte für Männer und Frauen unterscheiden. Wir sprechen hier von einer Alternativhypothese, da in der (frequentistischen) Statistik immer feste Werte für die Parameter in der Population angenommen werden müssen. Wenn die <span class="math inline">\(H_0\)</span> nicht gilt, so muss entsprechend auch ein fester Wert für die Differenz <span class="math inline">\(d\)</span> für die Mittelwerte angenommen werden.</p>
<pre class="r"><code>t.test(Depressivitaet ~ Geschlecht,  # abhängige Variable ~ unabhängige Variable
       data = Depression, # Datensatz
       paired = FALSE, # Stichproben sind unabhängig 
      alternative = &quot;two.sided&quot;,        # zweiseitige Testung (Default)
      var.equal = TRUE,                 # Homoskedastizität liegt vor (-&gt; Levene-Test)
      conf.level = .95)                 # alpha = .05 (Default)</code></pre>
<pre><code>## 
##  Two Sample t-test
## 
## data:  Depressivitaet by Geschlecht
## t = -7.4955, df = 88, p-value = 4.908e-11
## alternative hypothesis: true difference in means between group maennlich and group weiblich is not equal to 0
## 95 percent confidence interval:
##  -2.834830 -1.646651
## sample estimates:
## mean in group maennlich  mean in group weiblich 
##                4.759259                7.000000</code></pre>
<p>Der Output enthält folgende Informationen:</p>
<pre><code>## 
## Two Sample t-test</code></pre>
<p>zeigt an, dass es sich um einen Zwei-Stichproben <span class="math inline">\(t\)</span>-Test handelt.</p>
<pre><code>##  data:  Depressivitaet by Geschlecht
##  t = -7.4955, df = 88, p-value = 4.908e-11</code></pre>
<p>zeigt uns die Datengrundlage (<code>X</code> und <code>Y</code>), den <span class="math inline">\(t\)</span>-Wert, die <span class="math inline">\(df\)</span> und den <span class="math inline">\(p\)</span>-Wert.</p>
<p><span class="math inline">\(t\)</span>-Wert t(88)=-7.4955 und <span class="math inline">\(p\)</span>-Wert <span class="math inline">\(p\approx\)</span>r round(ttest<span class="math inline">\(p.value, 4)`, somit ist dieser Mittelwertsvergleich auf dem 5% Niveau signifikant (\)</span>p$&lt;.05).</p>
<pre><code>##  alternative hypothesis: true difference in means between group maennlich und group weiblich is not equal to 0
##  95 percent confidence interval:
##   -2.834830  -1.646651
##  sample estimates:
##     mean of x    mean of y 
##  4.759259  7.000000</code></pre>
<p>zeigt uns die Alternativhypothese (<span class="math inline">\(H_1:d \neq 0\)</span>), das Konfidenzintervall der Mittelwertsdifferenz sowie die Mittelwerte in den beiden Gruppen (<span class="math inline">\(\bar{X}_m=\)</span> 4.7592593, <span class="math inline">\(\bar{X}_w=\)</span> 7). Dadurch können wir auch erkennen, dass die empirische Mittelwertsdifferenz bei <span class="math inline">\(d\)</span>= -2.2407 liegt.</p>
<p>Wie bei der Regression können wir auch den Test als Objekt ablegen. Wenn wir <code>names</code> darauf anwenden, sehen wir wieder alle Namen, die wir hinter <code>$</code> schreiben können.</p>
<pre class="r"><code>ttest &lt;- t.test(Depressivitaet ~ Geschlecht,  # abhängige Variable ~ unabhängige Variable
       data = Depression, # Datensatz
       paired = FALSE, # Stichproben sind unabhängig 
      alternative = &quot;two.sided&quot;,        # zweiseitige Testung (Default)
      var.equal = TRUE,                 # Homoskedastizität liegt vor (-&gt; Levene-Test)
      conf.level = .95)                 # alpha = .05 (Default)
names(ttest)    # alle möglichen Argumente, die wir diesem Objekt entlocken können</code></pre>
<pre><code>##  [1] &quot;statistic&quot;   &quot;parameter&quot;   &quot;p.value&quot;     &quot;conf.int&quot;    &quot;estimate&quot;   
##  [6] &quot;null.value&quot;  &quot;stderr&quot;      &quot;alternative&quot; &quot;method&quot;      &quot;data.name&quot;</code></pre>
<pre class="r"><code>ttest$statistic # (empirischer) t-Wert</code></pre>
<pre><code>##         t 
## -7.495507</code></pre>
<pre class="r"><code>ttest$p.value   # zugehöriger p-Wert</code></pre>
<pre><code>## [1] 4.908264e-11</code></pre>
<p>Da die Null-Hypothese verworfen wird, nehmen wir an, dass es in der Population einen Mittelwertsunterschied zwischen der Depressivitaet von Männern und Frauen gibt.</p>
<p>Nun sind wir am Schluss des behandelten Codes in der Seminar-Sitzung angekommen. Die Grundlagen von <code>R</code> und einigen statistischen Verfahren sind nun aufgefrischt. Der nächste Teil beschäftigt sich nochmal inhaltlich mit den grundlegenden Begriffen der Inferenzstatistik und ihrem Zusammenhang.</p>
<hr />
</div>
</div>
<div id="grundlagen-der-inferenzstatistik" class="section level1">
<h1>Grundlagen der Inferenzstatistik</h1>
<p><code>R</code> kann bei der Veranschaulichung der grundlegenden Begriffe der Inferenzstatistik sehr hilfreich sein, weil wir verschiedene Populationsannahmen selbst treffen können. Anschließend können wir Stichproben simulieren und die üblichen Kennwerte betrachten.</p>
<div id="simulieren-der-stichproben" class="section level3">
<h3>Simulieren der Stichproben</h3>
<p>Wir können in <code>R</code> relativ simpel normalverteilte Variablen simulieren. Für weitere Informationen zur Simulation von Verteilungen siehe bspw. <a href="https://en.wikibooks.org/wiki/R_Programming/Probability_Distributions"><svg aria-hidden="true" role="img" viewBox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"/></svg> <code>R</code>-Verteilungen auf Wiki</a> oder <a href="/post/verteilungen/">hier auf Pandar</a>. Den Code der hier durchgeführten Simulationen können Sie <a href="#AppendixA">Appendix A</a> entnehmen (geht über den Inhalt des Seminars hinaus). Nehmen wir an, dass wir als Grundlage unserer Stichprobe die Standardnormalverteilung <span class="math inline">\(\mathcal{N}(0,1)\)</span> haben. Wir ziehen 1000 Personen aus dieser Population und lassen uns ein Histogramm sowie den Mittelwert und die geschätzte Populationsstandardabweichung ausgeben.</p>
<p><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-39-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre><code>## [1] -0.002997332</code></pre>
<pre><code>## [1] 0.9956916</code></pre>
<p>Natürlich liegen der geschätzte Mittelwert und die Standardabweichung nicht genau auf den wahren Werten, was am <strong>Sampling-Error</strong> liegt. Der Sampling-Error beschreibt die zufällige Schwankung, die durch das Ziehen der Stichprobe aus einer Population (Grundgesamtheit) entsteht.</p>
<p>Simulieren wir noch eine zweite Stichprobe standardnormalverteilter Zufallsvariablen, so können wir diese beiden Stichproben mit Hilfe des <span class="math inline">\(t\)</span>-Tests vergleichen.</p>
<pre><code>## 
##  Two Sample t-test
## 
## data:  group1 and group2
## t = -1.4456, df = 1998, p-value = 0.1484
## alternative hypothesis: true difference in means is not equal to 0
## 95 percent confidence interval:
##  -0.15317201  0.02317988
## sample estimates:
##    mean of x    mean of y 
## -0.002997332  0.061998736</code></pre>
<p>Der Output ist uns bereits bekannt. Da die Null-Hypothese nicht verworfen wird, bedeutet dies, dass wir weiterhin annehmen, dass die Mittelwertsdifferenz in der Population tatsächlich 0 ist (was wir auch so vorgegeben haben). Die in der Stichprobe ist offensichtlich nicht 0, aber sie liegt so nah an der 0, dass diese Abweichung wahrscheinlich durch Zufall passiert ist und sich nicht auf die Population verallgemeinern lässt (siehe als Wiederholung <a href="https://hds.hebis.de/ubffm/Record/HEB366849158">Eid, et al., 2017</a>, Kapitel 11.1 für den <span class="math inline">\(t\)</span>-Test und Kapitel 8 für Inferenzstatistikgrundlagen und Hypothesentests, bzw. <a href="https://hds.hebis.de/ubffm/Record/HEB369761391">Agresti, &amp; Finlay, 2013</a>, Kapitel 6).</p>
</div>
<div id="verteilung-unter-h_0" class="section level3">
<h3>Verteilung unter <span class="math inline">\(H_0\)</span></h3>
<p>Wenn wir dieses Experiment nun ganz häufig wiederholen, sollte die Teststatistik <span class="math inline">\(t=\frac{\bar{X}-\bar{Y}}{\sigma_p}\)</span> (wobei <span class="math inline">\(\bar{X}\)</span> und <span class="math inline">\(\bar{Y}\)</span> die Mittelwerte von <span class="math inline">\(X\)</span> und <span class="math inline">\(Y\)</span> sind und <span class="math inline">\(\sigma_p\)</span> die gepoolte Standardabweichung beschreibt) der <span class="math inline">\(t\)</span>-Verteilung folgen, welcher wir dann den <span class="math inline">\(p\)</span>-Wert ablesen können.</p>
<p><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-41-1.png" width="672" style="display: block; margin: auto;" /><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-41-2.png" width="672" style="display: block; margin: auto;" /></p>
<p>Die beiden Histogramme zeigen die empirische Verteilung der <span class="math inline">\(t\)</span>- und <span class="math inline">\(p\)</span>-Werte unter der <span class="math inline">\(H_0\)</span>-Hypothese nach 10000 (unabhängigen) Wiederholungen und die angenommene Verteilung (fette durchgezogene schwarze Linie). Von den <span class="math inline">\(p\)</span>-Werten wird erwartet, dass sie sich gleich (uniform) auf das Intervall zwischen 0 und 1 verteilen. Somit landen dann nur 5% der <span class="math inline">\(p\)</span>-Werte mit zugehörig großen Teststatistiken (zufällig) im Bereich <span class="math inline">\(p&lt;0.05\)</span>.</p>
</div>
<div id="verteilung-unter-h_1" class="section level3">
<h3>Verteilung unter <span class="math inline">\(H_1\)</span></h3>
<p>Angenommen die <span class="math inline">\(H_0\)</span>-Hypothese gilt nicht und es liegt tatsächlich eine Mittelwertsdifferenz von bspw. <span class="math inline">\(d=0.1\)</span> (<span class="math inline">\(H_1: \mu_1 - \mu_2 = 0.1\)</span>) vor, dann hat dies folgende Auswirkungen auf die Verteilung der Teststatistik und die zugehörigen <span class="math inline">\(p\)</span>-Werte:</p>
<p><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-42-1.png" width="672" style="display: block; margin: auto;" /><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-42-2.png" width="672" style="display: block; margin: auto;" /></p>
<p>Wir sehen sehr deutlich, dass die Teststatistik <span class="math inline">\(t\)</span> deutlich nach rechts verschoben ist und nicht mehr zur theoretischen Verteilung unter der <span class="math inline">\(H_0\)</span>-Hypothese passt. Auch die <span class="math inline">\(p\)</span>-Werte sind alles andere als gleichverteilt. Folglich sprechen extreme <span class="math inline">\(t\)</span>-Werte gegen die Null-Hypothese, weswegen wir diese verwerfen, wenn wir einen extremen Wert beobachten. Hier liegen 60.99% der <span class="math inline">\(p\)</span>-Werte unterhalb von <span class="math inline">\(0.05\)</span>. Dies wird auch als <strong>Power</strong> (siehe im Kapitel 8 in <a href="https://hds.hebis.de/ubffm/Record/HEB366849158">Eid, et al., 2017</a> Wiederholungen der Begriffe Power und <span class="math inline">\(\alpha\)</span>-Fehler) bezeichnet. Somit hat der <span class="math inline">\(t\)</span>-Test für eine Mittelwertsdifferenz von <span class="math inline">\(d\)</span>=.1 und eine Stichprobengröße von insgesamt n = 2000 eine Power von rund 60.99%. Dies bedeutet, dass in diesem Fall die <span class="math inline">\(H_0\)</span> in 60.99% der Fälle richtigerweise verworfen wird. Schauen wir uns die Power der <span class="math inline">\(t\)</span>-Tests einmal für verschiedene Stichprobengröße (<span class="math inline">\(n\)</span>) und Mittelwertsdifferenzen (<span class="math inline">\(d\)</span>) an:</p>
<p><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-43-1.png" width="960" style="display: block; margin: auto;" /></p>
<p>Die horizontal gepunktete Linie zeigt eine Power von 5% (also das vorgegebene <span class="math inline">\(\alpha\)</span>-Niveau) an und die horizontal gestrichelte Linie zeigt eine Power von 80% an.</p>
<p>Wir sehen sehr deutlich, dass für alle Stichprobengrößen (farblich kodiert) von <span class="math inline">\(n=2\)</span> bis <span class="math inline">\(n=1000\)</span> (pro Gruppe) die Power bei einer Mittelwertsdifferenz von 0 gerade bei ca. 5% liegt. Die Mittelwertsdifferenz von 0 beschreibt gerade die Null-Hypothese, dass es keinen Mittelwertsunterschied gibt. In diesem Fall beobachten wir den <span class="math inline">\(\alpha\)</span>-Fehler dieses Tests, nämlich die Wahrscheinlichkeit, zufällig die Null-Hypothese zu verwerfen, obwohl diese gilt. Die Power von 5% war somit zu erwarten, da dies gerade das <span class="math inline">\(\alpha\)</span>-Niveau dieses Tests ist (welches wir uns auch vorher so vorgegeben haben). In der Regel wird <span class="math inline">\(\alpha = .05\)</span> gewählt.</p>
<p>Was wir auch erkennen ist, dass für sehr große Stichproben die Power dieses Tests schon für sehr kleine Mittelwertsdifferenzen groß ist (idealerweise sprechen Methodiker von einem Test mit hinreichender Power, wenn diese größer als 80% ist). Dieses Beispiel zeigt sehr schön auf, dass damit die Power (also die Wahrscheinlichkeit einen Effekt zu finden, wenn dieser da ist) hoch ist, es einen Effekt geben muss (was sehr trivial klingt und es eigentlich auch ist) und zudem die Stichprobengröße hinreichend groß sein muss. Mit hinreichend groß hält sich der/die Statistiker/in die Hintertür offen zu sagen, dass: a) im Falle eines kleinen Effekts die Stichprobengröße eben sehr groß sein muss, um diesen zu erkennen und b) bei Vorliegen eines sehr großen Effekts schon eine kleine Stichprobengröße ausreicht, um den Effekt mit hinreichender Wahrscheinlichkeit auch als solchen zu identifizieren. Das ist auch der Grund, warum es <strong>Poweranalysen</strong> gibt, mit welchen bestimmt werden kann, wie groß die Stichprobengröße sein muss, um bei einem vorgegebenem erwarteten Effekt hinreichende Power zu haben, diesen auch zu entdecken.</p>
</div>
<div id="verstöße-gegen-die-modellannahmen" class="section level3">
<h3>Verstöße gegen die Modellannahmen</h3>
<p>Liegen andere Verstöße gegen die Modellannahmen vor, dann kann es fälschlicherweise zu signifikanten Ergebnissen kommen, obwohl es in der Population gar keinen Effekt gibt. Dies ist oft bei kleinen Stichproben ein Problem. Nehmen wir beispielsweise an, dass die beiden Gruppen sehr gegenläufig schief verteilt sind.</p>
<p><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-44-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Hier gilt zwar die Null-Hypothese, da beide Verteilungen einen theoretischen Mittelwert von 0 haben, aber die Varianzen unterscheiden sich (was im Histogramm durch die extremeren Werte entlang der x-Achse zu erkennen ist) und die Variablen sind offensichtlich nicht normalverteilt. Schauen wir uns nun die Power des <span class="math inline">\(t\)</span>-Tests für eine sehr kleine Stichprobe von 5 pro Gruppe an:</p>
<p><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-45-1.png" width="672" style="display: block; margin: auto;" /><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-45-2.png" width="672" style="display: block; margin: auto;" /></p>
<p>Insgesamt sieht die Verteilung der <span class="math inline">\(t\)</span>-Werte einigermaßen in Ordnung, wenn auch etwas schief, aus. Doch bei den <span class="math inline">\(p\)</span>-Werten fällt auf, dass die Null-Hypothese zu häufig verworfen wird, nämlich insgesamt in 11.11% der Fälle (durch Zufall, da die Null-Hypothese eigentlich gilt!); also doppelt so häufig wie von uns vorgegeben! Glücklicherweise ist der <span class="math inline">\(t\)</span>-Test relativ robust, was daran zu erkennen ist, dass, wenn die Stichprobengröße für dieses Beispiel bei 50 oder gar höher liegt (pro Gruppe), das <span class="math inline">\(\alpha\)</span>-Niveau schon wieder einigermaßen eingehalten wird. Außerdem gibt es geeignetere Tests zum Untersuchen von Mittelwertsunterschieden zweier Stichproben als den <span class="math inline">\(t\)</span>-Test - nämlich den Welch-Test. Dies ist eine Erweiterung des <span class="math inline">\(t\)</span>-Tests für ungleiche Varianzen. Dieser ist auch der Default in <code>R</code>. Wir rechnen ihn, indem wir nicht länger <code>var.equal = T</code> in <code>t.test</code> spezifizieren. Der Output ändert sich bis auf die Namensänderung kaum - die Freiheitsgrade des Tests werden korrigiert, um auf die ungleichen Varianzen zu reagieren (dies bedeutet, immer wenn die Freiheitsgrade nicht einfach <span class="math inline">\(n-2\)</span> sind, dann wurde der Welch-Test gerechnet; insbesondere Kommazahlen als <span class="math inline">\(df\)</span> sind möglich). Jedoch bringt diese Erweiterung ebenfalls nur für größere Stichproben etwas. Die analoge Simulationsstudie können Sie <a href="#AppendixA">Appendix A</a> entnehmen. Dort finden Sie wie bereits erwähnt auch den Code für viele der hier gezeigten Grafiken und Informationen zur Simulation von Stichproben an sich.</p>
<p>Diese Sitzung sollte als Einführung in <code>R</code>, Vorbereitung für die Regressionssitzung und kleine Wiederholung einiger wichtiger inferenzstatistischer Begriffe (wie etwa <span class="math inline">\(\alpha\)</span>-Fehler, Power, Hypothese etc.) fungieren.</p>
<hr />
</div>
<div id="r-skript" class="section level2">
<h2>R-Skript</h2>
<p>Den gesamten <code>R</code>-Code, der in dieser Sitzung genutzt wird, können Sie <a href="/post/KliPPs_MSc5a_R_Files/1_einleitung-und-wiederholung_RCode.R"><svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"/></svg> hier herunterladen</a>.</p>
<hr />
</div>
<div id="appendix" class="section level2">
<h2>Appendix</h2>
<div id="AppendixA" class="section level3">
<h3>Appendix A</h3>
<details>
<summary>
<strong>Code für Grundlagen der Inferenzstatistik</strong>
</summary>
<p>Hier ist der Code für einige Grafiken und Simulationen dargestellt. Dies geht natürlich über den Stoff des Seminars hinaus und ist nur für Interessierte bestimmt.</p>
<div id="simulation-von-stichproben" class="section level4">
<h4>Simulation von Stichproben</h4>
<p>Wir müssen diesem Befehl lediglich übergeben wie viele Replikationen wir wünschen und welchen Mittelwert und Standardabweichung die Zufallsvariablen haben sollen. Wir simulieren die Standardnormalverteilung <span class="math inline">\(\mathcal{N}(0,1)\)</span> und legen die generierte (realisierte) Zufallsvariable in einem Objekt mit dem Namen <code>group1</code> ab, um später gezeigte Informationen wie den Mittelwert oder die Standardabweichung abrufen zu können - dies machen wir mit dem “Zuordnungspfeil”. Um zufällige Prozesse über verschiedene Zeitpunkte hinweg konstant zu halten (damit es replizierbar ist und Sie dasselbe Ergebnis bekommen), wird zunächst ein Startpunkt für den Zufallsprozess mittels <code>set.seed</code> gesetzt.</p>
<pre class="r"><code>set.seed(1234567) # für Replizierbarkeit (bei gleicher R Version, kommen Sie mit diesem Seed zum selben Ergebnis!)
group1 &lt;- rnorm(n = 1000, mean = 0, sd = 1) # Standardnormalverteilung mit n = 1000
hist(group1)</code></pre>
<p><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-46-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>mean(group1)</code></pre>
<pre><code>## [1] -0.002997332</code></pre>
<pre class="r"><code>sd(group1)</code></pre>
<pre><code>## [1] 0.9956916</code></pre>
<pre class="r"><code># Simulation der zweiten Stichprobe
set.seed(2)
group2 &lt;- rnorm(n = 1000, mean = 0, sd = 1)
ttest &lt;- t.test(group1, group2, var.equal = T)
ttest # Vergleich zwischen den beiden Stichproben</code></pre>
<pre><code>## 
##  Two Sample t-test
## 
## data:  group1 and group2
## t = -1.4456, df = 1998, p-value = 0.1484
## alternative hypothesis: true difference in means is not equal to 0
## 95 percent confidence interval:
##  -0.15317201  0.02317988
## sample estimates:
##    mean of x    mean of y 
## -0.002997332  0.061998736</code></pre>
</div>
<div id="verteilung-unter-h_0-1" class="section level4">
<h4>Verteilung unter <span class="math inline">\(H_0\)</span></h4>
<pre class="r"><code>ts &lt;- c(); ps &lt;- c() # wir brauchen zunächst Vektoren, in die wir die t-Werte und die p-Werte hineinschreiben können
for(i in 1:10000)
{
    group1 &lt;- rnorm(n = 1000, mean = 0, sd = 1)
    group2 &lt;- rnorm(n = 1000, mean = 0, sd = 1)
    ttest &lt;- t.test(group1, group2, var.equal = T)
    ts &lt;- c(ts, ttest$statistic) # nehme den Vektor ts und verlängere ihn um den neuen t-Wert
    ps &lt;- c(ps, ttest$p.value)   # nehme den Vektor ps und verlängere ihn um den neuen p-Wert
}

hist(ts, main = &quot;(empirische) t-Werte nach 10000 Replikationen unter H0&quot;, xlab = expression(&quot;t&quot;[emp]), freq = F)
lines(x = seq(-4,4,0.01), dt(x = seq(-4,4,0.01), df = ttest$parameter), lwd = 3)</code></pre>
<p><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-48-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>hist(ps, main = &quot;p-Werte nach 10000 Replikationen unter H0&quot;, xlab = &quot;p&quot;, freq = F)
abline(a = 1, b = 0, lwd = 3)</code></pre>
<p><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-48-2.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="verteilung-unter-h_1-1" class="section level4">
<h4>Verteilung unter <span class="math inline">\(H_1\)</span></h4>
<pre class="r"><code>ts &lt;- c(); ps &lt;- c() # wir brauchen zunächst Vektoren, in die wir die t-Werte und die p-Werte hineinschreiben können
for(i in 1:10000)
{
    group1 &lt;- rnorm(n = 1000, mean = 0, sd = 1)
    group2 &lt;- -0.1 + rnorm(n = 1000, mean = 0, sd = 1) # Mittelwertsdifferenz ist 0.1
    ttest &lt;- t.test(group1, group2, var.equal = T)
    ts &lt;- c(ts, ttest$statistic) # nehme den Vektor ts und verlängere ihn um den neuen t-Wert
    ps &lt;- c(ps, ttest$p.value)   # nehme den Vektor ps und verlängere ihn um den neuen p-Wert
}

hist(ts, main = &quot;(empirische) t-Werte nach 10000 Replikationen unter H1&quot;, xlab = expression(&quot;t&quot;[emp]), freq = F)
lines(x = seq(-4,4,0.01), dt(x = seq(-4,4,0.01), df = ttest$parameter), lwd = 3)</code></pre>
<p><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-49-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>hist(ps, main = &quot;p-Werte nach 10000 Replikationen unter H1&quot;, xlab = &quot;p&quot;, freq = F)
abline(a = 1, b = 0, lwd = 3)</code></pre>
<p><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-49-2.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="stichprobenziehung-mit-modellverstößen" class="section level4">
<h4>Stichprobenziehung mit Modellverstößen</h4>
<pre class="r"><code>set.seed(1)
par(mfrow = c(1,2))

group1 &lt;- -rexp(1000, 1)
group1 &lt;- group1 + 1
group2 &lt;- rexp(1000, 2)
group2 &lt;- group2 - 1/2
hist(group1); hist(group2)</code></pre>
<p><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-50-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="verteilung-unter-h_0-mit-modellverstößen" class="section level4">
<h4>Verteilung unter <span class="math inline">\(H_0\)</span> mit Modellverstößen</h4>
<pre class="r"><code>set.seed(1)
ts &lt;- c(); ps &lt;- c() # wir brauchen zunächst Vektoren, in die wir die t-Werte und die p-Werte hineinschreiben können
for(i in 1:10000)
{
       group1 &lt;- -rexp(n = 5, rate = 1) # simuliere Exponentialverteilung zur Rate 1 mit n = 5
        group1 &lt;- group1 + 1 # zentriere, sodass der Populationsmittelwert wieder 0 ist
        group2 &lt;- rexp(n = 5, rate = 2) # simuliere Exponentialverteilung zur Rate 2 mit n = 5
        group2 &lt;- group2 - 1/2 # zentriere, sodass der Populationsmittelwert wieder 0 ist
        ttest &lt;- t.test(group1, group2, var.equal = T)
        ts &lt;- c(ts, ttest$statistic) # nehme den Vektor ts und verlängere ihn um den neuen t-Wert
        ps &lt;- c(ps, ttest$p.value)   # nehme den Vektor ps und verlängere ihn um den neuen p-Wert
}

hist(ts, main = &quot;t-Werte nach 10000 Replikationen unter Modellverstöße\n für kleine Stichproben&quot;, xlab = expression(&quot;t&quot;[emp]), freq = F)
lines(x = seq(-4,4,0.01), dt(x = seq(-4,4,0.01), df = ttest$parameter), lwd = 3)</code></pre>
<p><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-51-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>hist(ps, main = &quot;p-Werte nach 10000 Replikationen unter Modellverstößen\n für kleine Stichproben&quot;, xlab = &quot;p&quot;, freq = F)
abline(a = 1, b = 0, lwd = 3)</code></pre>
<p><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-51-2.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="verteilung-unter-h_0-mit-modellverstößen-welch-test" class="section level4">
<h4>Verteilung unter <span class="math inline">\(H_0\)</span> mit Modellverstößen: Welch-Test</h4>
<pre class="r"><code>set.seed(1)
ts &lt;- c(); ps &lt;- c() # wir brauchen zunächst Vektoren, in die wir die t-Werte und die p-Werte hineinschreiben können
for(i in 1:10000)
{
        group1 &lt;- -rexp(n = 5, rate = 1) # simuliere Exponentialverteilung zur Rate 1 mit n = 5
        group1 &lt;- group1 + 1 # zentriere, sodass der Populationsmittelwert wieder 0 ist
        group2 &lt;- rexp(n = 5, rate = 2) # simuliere Exponentialverteilung zur Rate 2 mit n = 5
        group2 &lt;- group2 - 1/2 # zentriere, sodass der Populationsmittelwert wieder 0 ist
        ttest &lt;- t.test(group1, group2) # Welch Test
        ts &lt;- c(ts, ttest$statistic) # nehme den Vektor ts und verlängere ihn um den neuen t-Wert
        ps &lt;- c(ps, ttest$p.value)   # nehme den Vektor ps und verlängere ihn um den neuen p-Wert
}

hist(ts, main = &quot;t-Werte (des Welch t-Tests) nach 10000 Replikationen\n unter Modellverstöße für kleine Stichproben&quot;, xlab = expression(&quot;t&quot;[emp]), freq = F)
lines(x = seq(-4,4,0.01), dt(x = seq(-4,4,0.01), df = ttest$parameter), lwd = 3)</code></pre>
<p><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-52-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>hist(ps, main = &quot;p-Werte (des Welch t-Tests) nach 10000 Replikationen\n unter Modellverstößen für kleine Stichproben&quot;, xlab = &quot;p&quot;, freq = F)
abline(a = 1, b = 0, lwd = 3)</code></pre>
<p><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-52-2.png" width="672" style="display: block; margin: auto;" />
Insgesamt sieht die Verteilung der Teststatistik (also quasi der empirischen <span class="math inline">\(t\)</span>-Werte) einigermaßen in Ordnung aus, wenn auch etwas schief, doch bei den <span class="math inline">\(p\)</span>-Werten fällt auf, dass die Null-Hypothese zu häufig verworfen wird, nämlich insgesamt in 10% der Fälle (durch Zufall, da die Null-Hypothese eigentlich gilt!); also doppelt so häufig wie von uns vorgegeben! Hier gibt es kaum Unterschiede zum ursprünglichen <span class="math inline">\(t\)</span>-Test mit gleichen Varianzen. Allerdings ist die Stichprobengröße hier mit 5 pro Gruppe recht klein!</p>
</div>
<div id="verteilung-unter-h_0-mit-modellverstößen-mit-größerer-stichprobe-welch-test" class="section level4">
<h4>Verteilung unter <span class="math inline">\(H_0\)</span> mit Modellverstößen mit größerer Stichprobe: Welch-Test</h4>
<pre class="r"><code>set.seed(1234)
ts &lt;- c(); ps &lt;- c() # wir brauchen zunächst Vektoren, in die wir die t-Werte und die p-Werte hineinschreiben können
for(i in 1:10000)
{
        group1 &lt;- -rexp(n = 100, rate = 1) # simuliere Exponentialverteilung zur Rate 1 mit n = 100
        group1 &lt;- group1 + 1 # zentriere, sodass der Populationsmittelwert wieder 0 ist
        group2 &lt;- rexp(n = 100, rate = 2) # simuliere Exponentialverteilung zur Rate 2 mit n = 100
        group2 &lt;- group2 - 1/2 # zentriere, sodass der Populationsmittelwert wieder 0 ist
        ttest &lt;- t.test(group1, group2) # Welch Test
        ts &lt;- c(ts, ttest$statistic) # nehme den Vektor ts und verlängere ihn um den neuen t-Wert
        ps &lt;- c(ps, ttest$p.value)   # nehme den Vektor ps und verlängere ihn um den neuen p-Wert
}

hist(ts, main = &quot;t-Werte (des Welch t-Tests) nach 10000 Replikationen\n unter Modellverstöße für größere Stichproben&quot;, xlab = expression(&quot;t&quot;[emp]), freq = F)
lines(x = seq(-4,4,0.01), dt(x = seq(-4,4,0.01), df = ttest$parameter), lwd = 3)</code></pre>
<p><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-53-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>hist(ps, main = &quot;p-Werte (des Welch t-Tests) nach 10000 Replikationen\n unter Modellverstößen für größere Stichproben&quot;, xlab = &quot;p&quot;, freq = F)
abline(a = 1, b = 0, lwd = 3)</code></pre>
<p><img src="/post/2021-10-06-Einleitung-KliPPs_files/figure-html/unnamed-chunk-53-2.png" width="672" style="display: block; margin: auto;" /></p>
<p>Für jeweils 100 Erhebungen pro Gruppe ist der Verstoß gegen die Normalverteilungsannahme bei ungleichen Varianzen für den Welch-Test fast zu vernachlässigen.</p>
</details>
</div>
</div>
</div>
<div id="literatur" class="section level2">
<h2>Literatur</h2>
<p><a href="https://hds.hebis.de/ubffm/Record/HEB369761391">Agresti, A, &amp; Finlay, B. (2013).</a> <em>Statistical methods for the social sciences.</em> (Pearson new international edition, 4th edition). Harlow, Essex : Pearson Education Limited.</p>
<p><a href="https://hds.hebis.de/ubffm/Record/HEB366849158">Eid, M., Gollwitzer, M., &amp; Schmitt, M. (2017).</a> <em>Statistik und Forschungsmethoden</em> (5. Auflage, 1. Auflage: 2010). Weinheim: Beltz.</p>
<ul>
<li><small> <em>Blau hinterlegte Autorenangaben führen Sie direkt zur universitätsinternen Ressource.</em> </small></li>
</ul>
</div>
</div>
