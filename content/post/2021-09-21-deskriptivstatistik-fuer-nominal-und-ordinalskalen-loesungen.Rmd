---
title: Deskriptivstatistik für Nominal- und Ordinalskalen - Lösungen
date: '2020-11-26'
slug: deskriptiv-nominal-loesungen
categories:
  - BSc2
  - Loesungen
tags:
  - R Deskriptivstatistik
subtitle: ''
summary: ''
authors: [buchholz, nehler]
lastmod: '2020-11-26T21:07:11+02:00'
featured: no
header:
  image: "/header/descriptive_post.jpg"
  caption: "[Courtesy of pxhere](https://pxhere.com/en/photo/1227907)"
projects: []
expiryDate: '2022-09-15'
publishDate: '2021-10-29'
---


### Vorbereitung

<details><summary>Lösung</summary>

Laden Sie zunächst den Datensatz `fb21` von der pandar-Website herunter und dann ein.

```{r}
load('fb21.rda')   # Daten laden
```

Die Bedeutung der einzelnen Variablen und ihre Antwortkategorien können Sie dem Dokument [variablen.pdf](/post/variablen.pdf) entnehmen.

Verschaffen Sie sich nun einen Überblick über den Datensatz:

```{r}
dim(fb21)
str(fb21)
```

Der Datensatz besteht aus `r nrow(fb21)` Zeilen (Beobachtungen) und `r ncol(fb21)` Spalten (=Variablen).

</details>



## Aufgabe 1

Untersuchen Sie, welche Arbeitsbranche Sie und Ihre Kommilitonen/innen nach dem Studium anstreben!  

* Vergeben Sie zunächst die korrekten Wertelabels an die Ausprägungen der Variable.  
* Lassen Sie sich absolute und relative Häufigkeiten ausgeben.  
* Untersuchen Sie mit den geeigneten Maßen die zentrale Tendenz und Dispersion dieser Variable.  


<details><summary>Lösung</summary>

**Faktor erstellen**

```{r}
fb21$ziel <- factor(fb21$ziel,
                        levels = 1:4,
                        labels = c("Wirtschaft", "Therapie", "Forschung", "Andere"))
levels(fb21$ziel)
```

**Absolute und relative Häufigkeiten anfordern**  

```{r}
table(fb21$ziel)              # absolut
prop.table(table(fb21$ziel))  # relativ
```

**Zentrale Tendenz und Dispersion für nominalskalierte Variablen: Modus, relativer Informationsgehalt**

```{r}
# Modus
which.max(table(fb21$ziel))
```

```{r}
#relativer Informationsgehalt
hj <- prop.table(table(fb21$ziel))  # hj erstellen
ln_hj <- log(hj)                    # Logarithmus bestimmen
summand <- ln_hj * hj               # Berechnung fuer jede Kategorie
summe <- sum(summand)               # Gesamtsumme
k <- length(hj)                     # Anzahl Kategorien bestimmen
relInf <- -1/log(k) * summe         # Relativer Informationsgehalt
relInf
```

Der Modus der Variable lautet `r names(which.max(table(fb21$ziel)))` - die meisten Ihres Jahrgangs (*n* = `r max(table(fb21$ziel))` bzw. `r round(max(prop.table(table(fb21$ziel)))*100,2)`%) streben einen Job in diesem Bereich an. Der relative Informationsgehalt der Variable beträgt `r round(relInf, 2)`.

</details>



## Aufgabe 2

Die Variable `nr3` enthält die Angaben über das Ausmaß, in dem Sie und Ihre Kommilitonen/-innen Ihre Verbindung zur Natur als Teil Ihrer Spiritualität ansehen.

* Bestimmen Sie für diese Variable den Modus.     
* Untersuchen Sie die Streuung für diese Variable optisch, indem Sie einen Boxplot erstellen.  
* Bestimmen Sie die Quartile und den Interquartilsbereich (IQB) auch als Zahlen.

<details><summary>Lösung</summary>

**Modus**

```{r}
which.max(table(fb21$nr3))
```

**Häufigkeiten**

```{r}
table(fb21$nr3)
prop.table(table(fb21$nr3))
```

Der Modus der Variable "nr3" beträgt `r which.max(table(fb21$nr3))`, d.h. diese Antwortkategorie wurde am häufigsten genannt (*n* = `r max(table(fb21$nr3))` bzw. `r round(max(prop.table(table(fb21$nr3)))*100,2)`%).

**Boxplot**

```{r}
boxplot(fb21$nr3)
```

**Quartile**

```{r}
quantile(fb21$nr3, c(.25,.5,.75), na.rm=T)
```

Der Median beträgt `r quantile(fb21$nr3, .5, na.rm=T)`. Das 1. und 3. Quartil betragen `r quantile(fb21$nr3, .25, na.rm=T)` bzw. `r quantile(fb21$nr3, .75, na.rm=T)`. Folglich beträgt der Interquartilsbereich (IQB) `r  quantile(fb21$nr3, .75, na.rm=T)-quantile(fb21$nr3, .25, na.rm=T)`.

</details>


## Aufgabe 3

Erstellen Sie für die Variable `wohnen` eine geeignete Abbildung.   

* Stellen Sie sicher, dass die einzelnen Ausprägungen der Variable in der Darstellung interpretierbar benannt sind!  
* Dekorieren Sie diese Abbildung nach eigenen Wünschen (z.B. mit einer Farbpalette und Achsenbeschriftungen).
* Speichern Sie die Grafik per Syntax als .jpg-Datei mit dem Namen "Befragung-fb21.jpg" ab.

<details><summary>Lösung</summary>

**Faktor erstellen**

```{r}
fb21$wohnen <- factor(fb21$wohnen, 
                      levels = 1:4, 
                      labels = c("WG", "bei Eltern", "alleine", "sonstiges"))
```

**Default Darstellung und überarbeitete Grafik**

```{r}
par(mfrow=c(1,2))

# Default
barplot(table(fb21$wohnen))

# Überarbeitet
barplot(
  # wichtig: Funktion auf Häufigkeitstabelle, nicht die Variable selbst anwenden:
  table(fb21$wohnen),                               
  # aussagekräftiger Titel, inkl. Zeilenumbruch ("\n") 
  main = "Befragung Erstis im WS 20/21:\nAktuelle Wohnsituation", 
  # y-Achsen-Beschriftung:
  ylab = "Häufigkeit",
  # Farben aus einer Farbpalette:
  col = rainbow(10),
  # Platz zwischen Balken minimieren:
  space = 0.1,
  # graue Umrandungen der Balken:
  border = "grey2",
  # Unterscheidlich dichte Schattierungen (statt Füllung) für die vier Balken:
  density = c(50, 75, 25, 50),
  # Richtung, in dem die Schattierung in den vier Balken verläuft
  angle = c(-45, 0, 45, 90),
  # Schriftausrichtung der Achsen horizontal:
  las=2,
  #y-Achse erweitern, sodass mehr Platz zum Titel bleibt:
  ylim = c(0,60))
```

**Speichern (per Syntax)**

```{r, results = "hide"}
jpeg("Befragung-fb21.jpg", width=20, height=10, units="cm", res=200)
barplot(
  table(fb21$wohnen),                               
  main = "Befragung Erstis im WS 21/22:\nAktuelle Wohnsituation", 
  ylab = "Häufigkeit",
  col = rainbow(10),
  space = 0.1,
  border = "grey2",
  density = c(50,75,25,50),
  angle = c(-45,0,45,90),
  las=2,
  ylim = c(0,60))
dev.off()
```

Im Arbeitsverzeichnis sollte die Datei nun vorliegen.

</details>



