---
title: "Operatoren in R - Übersicht"
date: '2023-03-24'
slug: Operatoren
categories:
  - extras
tags:
subtitle: ''
summary: ''
authors: [pommeranz]
lastmod: '`r Sys.Date()`'
featured: no
header:
  image: "/header/" #https://pxhere.com/de/photo/29 maybe this?
  caption: "[Courtesy of pxhere](https://pxhere.com/de/photo/29)"
projects: []
---

<!-- r blogdown::shortcode_open("detail_disclosure", "Kernfragen dieses Beitrags") -->
<!-- Die divs sind wichtig, damit die Liste funktioniert! Innerhalb dieses Shortcodes ist HTML erlaubt (safeHTML) -->
<div>
* Wie funktionieren die [arithmetischen](#arithmetic) Operatoren ?
* Wie funktionieren die [relationalen](#relational) Operatoren ?
* Wie funktionieren die [logischen](#logic) Operatoren ?
* Wie funktionieren die [Zuordnungsoperatoren](#assign)?
* Wie funktionieren die [Datenselektionsoperatoren](#data)?
</div>

<!-- r blogdown::shortcode_close("detail_disclosure") -->

***

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Arithmetisch  {.anchorheader #arithmetic}

---------------------------------------------------------------------------------------------------
 Operator   Beschreibung           Beispiel                                                       
---------- --------------          ---------------------------------------------------------------
 \+        Addition                `1 + 2` = `r 1 + 2`                                              

 \-        Substraktion            `1 - 2` = `r 1 - 2`                                             

 \*        Multiplikation          `3 * 3` = `r 3 * 3`                                             

 /         Division                `10 / 9` = `r 10 / 9`                                           

 ^         Exponent                `2 ^ 5` = `r 2 ^ 5`                                             

 %%        Modulo                  `10 %% 2` = `r 10 %% 2`                                         

 %/%       Integer Division        `10 %/% 9` = `r 10 %/% 9`                                       

  \%\*\%   Matrizenmultiplikation  `matrix(1:4, nrow=2) %*% matrix(1:4, nrow=2)`=`r c(7,10,15,22)` 

  :        Integer von x:(bis)y    `1:9` = `r 1:9`                                                 
---------------------------------------------------------------------------------------------------


## Relational  {.anchorheader #relational}

----------------------------------------------------------
 Operator  Beschreibung       Beispiel
---------- --------------     ----------------------------
 <         Kleiner als        `1<2` = `r 1<2`

 \>        Größer als         `1>2` = `r 1>2`

 <=        Kleinergleich      `1<=2` = `r 1<=2`

 \>=       Größergleich       `1>=2` = `r 1>=2`

 ==        Gleich             `1==2` = `r 1==2`

 !=        Ungleich           `1!=2` = `r 1!=2`
-----------------------------------------------------------

Operatoren, die einen entsprechenden Wahrheitswert in ihrer wertvergleichenden Aussage geben. `==` und `!=` lassen sich auch bei character anwenden, um sie direkt zu vergleichen. Sogar Größenvergleiche funktionieren, dabei wird die alphabetische Ordnung verglichen (weiter hinten im Alphabet ist also größer). Auc boolean können verglichen werden. `FALSE` ist dabei kleiner als `TRUE`, da `FALSE` mit einer 0 gleichgesetzt wird, während `TRUE` mit einer 1 gleichgesetzt wird.

## Logisch  {.anchorheader #logic}

---------------------------------------------------------------
 Operator   Beschreibung                 Beispiel
----------  ---------------------------  ----------------------
  !         Logisches NOT                `!(TRUE)` = `r !(TRUE)`

  &         Element-wise logisches AND   `TRUE & FALSE` = `r TRUE & FALSE`

  &&        Logisches AND                `TRUE && c(TRUE,FALSE)` = `r TRUE && c(TRUE,FALSE)`

 \|         Element-wise logisches OR    `TRUE | FALSE` = `r TRUE | FALSE`

  ||        Logisches OR                 `TRUE || c(TRUE,FALSE)` = `r TRUE || c(TRUE,FALSE)`

  %in%      Ob Element in Vektor         `1%in%1:5` = `r 1%in%1:5`
---------------------------------------------------------------

Unterschied zwischen `||` und `|`, sowie `&&` und `&`:
`|` und `&` evaluieren jedes Element einzeln, 
`||` und `&&` evaluieren immer nur den ersten Wert, den sie erhalten

```{r, warning=FALSE}
x <- c(TRUE,0,TRUE,FALSE)
y <- c(FALSE,FALSE,1,TRUE)

x&y

x&&y

x|y

x||y
```


## Zuordnungsoperatoren {.anchorheader #assign}

----------------------------------------------------
Operator        Beschreibung                 Beispiel
-------------   ---------------------------  -------
 <-, <<-, =      Linksgebundene Zuordnung    `test <- 1`, `test` = `r test <- 1` `r test`

 ->, ->>         Rechtssgebundene Zuordnung  `2 -> test`, `test` = `r 2 -> test` `r test`
----------------------------------------------------

Zuordnungsoperatoren, standardmäßig benutzt man linksgebunden `<-`, aber rechtsbündig oder ein `=` sind genauso valide Optionen. Innerhalb von Funktionen sind die normalen Zuordnungen nur lokal innerhalb der Funktion, mit `<<-`/`->>` lassen sich hierbei auch globale Werte setzen, wie es üblich ist außerhalb von Funktionen.

## Datenselektionsoperatoren {.anchorheader #data}

``` {r }
#Beispiel-Dataframe
example_df <- data.frame(
  Farbe = c("Rot","Blau","Grün"),
  Zahl = c(24, 25, 42)
)
```

----------------------------------------------------------------------------------------------------------------------
 Operator  Beschreibung                                                 Beispiel
---------- -------------------------------------------------------      ---------------------------------------------
 \$string  Wählt Spalte mit den Namen `string` (type)                   `example_df$Farbe` = `r example_df$Farbe`

  [x,y]    Element aus Reihe `x`, Spalte `y` (type)                     `example_df[1,1]` = `r example_df[1,1]`
  
  [,y]     Alle Elemente der Spalte Nr. `y`(type/type-vector)           `example_df[,1]` = `r example_df[,1]`
  
  [x,]     Das Element an Stelle `x` jeder Spalte (lists (Länge 1))     `example_df[1,]` = `r example_df[1,]`
  
  [z]      Gibt Spalte `z` als Liste wieder (list)                      `example_df[[1]]` = `r example_df[[1]]`
  
  [[z]]    Gibt Spalte `z` als Listenelemente wieder (type/type-vector) `example_df[[1]]` = `r example_df[[1]]`
  
[[z]][[z2]]Gibt Element `z2` aus Liste `z` wieder (type)                `example_df[[1]][[1]]` = `r example_df[[1]][[1]]`
----------------------------------------------------------------------------------------------------------------------

x ist hierbei eine Zahl, die mit einer Reihenposition übereinstimm und y entweder ein character, der mit einem Spaltennamen übereinstimmt, oder eine Zahl, die mit einer Spaltenposition übereinstimmt. z muss ebenso als Zahl mit einem Listenindex übereinstimmen oder den selbe character wie das jeweilige Element haben, sofern z auch eine Liste ist. 

df$String und [x] lassen sich auch kombinieren! 
$string[x] wäre beispielsweise das x'te Element aus dem Vektor der Namensspalte des Dataframes, denn ist es äquivalent zu df[x,"String"]

Double Brackets [[]] sind ungewöhnlich im Dataframe, da wir über [x,y] / [,y] eine gleichwertige, einfacher spezifizierbare Indexierung vornehmen können. Sie werden aber verwendet, wenn man Elemente aus Listen nehmen möchte.

```{r }
example_list <- list(1:5, LETTERS[6:10])
#statt dem hier, wo eine Liste aufgerufen wird ...
example_list[2]
typeof(example_list[2])

# ... werden hiermit die tatsächlichen Elemente aufgerufen
example_list[[2]]
typeof(example_list[[2]])
```

Hier ist der Vorteil, dass der spezielle Typ des character-Vectors erhalten bleibt.

***
